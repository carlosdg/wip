(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{156:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.imagesDifference=void 0;var n,r=(n=a(40))&&n.__esModule?n:{default:n},o=a(55);t.imagesDifference=function(e,t){if(e.height!==t.height||e.width!==t.width)throw new o.ImageOperationException("ImagesDifferenceException","Images should have the same width and height");for(var a=e.copy(),n=0;n<a.pixels.length;n+=r.default.NUM_CHANNELS)a.pixels[n]=Math.abs(a.pixels[n]-t.pixels[n]),a.pixels[n+1]=Math.abs(a.pixels[n+1]-t.pixels[n+1]),a.pixels[n+2]=Math.abs(a.pixels[n+2]-t.pixels[n+2]);return a}},17:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RgbaImageBuffer",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"Histogram",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"CumulativeHistogram",{enumerable:!0,get:function(){return o.default}}),t.operations=t.exceptions=void 0;var n=c(a(40)),r=c(a(260)),o=c(a(261)),i=s(a(55));t.exceptions=i;var l=s(a(263));function s(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,a):{};n.get||n.set?Object.defineProperty(t,a,n):t[a]=e[a]}return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}t.operations=l},245:function(e,t,a){e.exports=a(618)},258:function(e,t,a){},259:function(e,t,a){},260:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,r=(n=a(40))&&n.__esModule?n:{default:n};function o(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.setImagePixels(t.pixels)}var t,a,n;return t=e,(a=[{key:"setImagePixels",value:function(e){var t=this,a=!0;this.histogramValues={Red:new Array(256).fill(0),Green:new Array(256).fill(0),Blue:new Array(256).fill(0),Gray:new Array(256).fill(0)};for(var n=0;n<e.length;n+=r.default.NUM_CHANNELS)0!==e[n+3]&&(this.histogramValues.Red[e[n]]++,this.histogramValues.Green[e[n+1]]++,this.histogramValues.Blue[e[n+2]]++,this.histogramValues.Gray[Math.round(.222*e[n]+.707*e[n+1]+.071*e[n+2])]++,!a||e[n]===e[n+1]&&e[n]===e[n+2]||(a=!1));var o=this.histogramValues.Red.reduce(function(e,t){return e+t},0);a&&(delete this.histogramValues.Red,delete this.histogramValues.Blue,delete this.histogramValues.Green),this.histogramInfo={},this.histogramInfo.brightness=this.histogramValues.Gray.reduce(function(e,t,a){return e+t*a},0)/o,this.histogramInfo.contrast=Math.sqrt(this.histogramValues.Gray.reduce(function(e,a,n){return e+Math.pow(n-t.histogramInfo.brightness,2)*a},0)/o),Object.keys(this.histogramValues).forEach(function(e){t.histogramInfo[e]={},t.histogramInfo[e].count=o;for(var a=0;a<t.histogramValues[e].length;++a)if(0!==t.histogramValues[e][a]){t.histogramInfo[e].minValue=a;break}for(var n=t.histogramValues[e].length-1;n>=0;--n)if(0!==t.histogramValues[e][n]){t.histogramInfo[e].maxValue=n;break}var r=0,i=0;t.histogramValues[e].forEach(function(e,t){e>i&&(i=e,r=t)}),t.histogramInfo[e].mode={},t.histogramInfo[e].mode.value=r,t.histogramInfo[e].mode.count=i;for(var l,s=0,c=0;c<256;++c)(l=t.histogramValues[e][c]/t.histogramInfo[e].count)>0&&(s+=l*Math.log2(l));0!==s&&(s*=-1),t.histogramInfo[e].entropy=s.toFixed(3)})}}])&&o(t.prototype,a),n&&o(t,n),e}();t.default=i},261:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function e(t){var a,n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.counts={},Object.keys(t).forEach(function(e){a=0,n.counts[e]={},n.counts[e]=t[e].map(function(e){return a+=e})}),this.count=a}},262:function(e,t,a){"use strict";function n(e){return(n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){return!t||"object"!==n(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function o(e){var t="function"===typeof Map?new Map:void 0;return(o=function(e){if(null===e||(a=e,-1===Function.toString.call(a).indexOf("[native code]")))return e;var a;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return i(e,arguments,s(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),l(n,e)})(e)}function i(e,t,a){return(i=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,a){var n=[null];n.push.apply(n,t);var r=new(Function.bind.apply(e,n));return a&&l(r,a.prototype),r}).apply(null,arguments)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=function(e){function t(e,a){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=r(this,s(t).call(this,a))).name=e,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(t,o(Error)),t}();t.default=c},263:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(264);Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})});var r=a(265);Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return r[e]}})});var o=a(266);Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})});var i=a(267);Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})});var l=a(268);Object.keys(l).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})});var s=a(269);Object.keys(s).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})});var c=a(270);Object.keys(c).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return c[e]}})});var u=a(271);Object.keys(u).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return u[e]}})});var h=a(272);Object.keys(h).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return h[e]}})});var p=a(273);Object.keys(p).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return p[e]}})});var m=a(156);Object.keys(m).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return m[e]}})});var d=a(274);Object.keys(d).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return d[e]}})});var g=a(275);Object.keys(g).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return g[e]}})});var f=a(276);Object.keys(f).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}})});var b=a(277);Object.keys(b).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return b[e]}})});var v=a(278);Object.keys(v).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return v[e]}})});var y=a(60);Object.keys(y).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return y[e]}})})},264:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.brightnessAndContrastAdjustment=void 0;var n=a(60);t.brightnessAndContrastAdjustment=function(e,t,a,r,o){for(var i=o/a,l=r-i*t,s=[],c=0;c<256;++c){var u=Math.round(i*c+l);s.push(Math.min(Math.max(u,0),255))}return(0,n.transformImage)(e,s)}},265:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changesDetection=void 0;var n,r=(n=a(40))&&n.__esModule?n:{default:n},o=a(55),i=a(156);t.changesDetection=function(e,t,a,n){var l;try{l=(0,i.imagesDifference)(e,t)}catch(u){throw"ImagesDifferenceException"===u.name?new o.ImageOperationException("ChangesDetectionException",u.message):u}for(var s=e.copy(),c=0;c<s.pixels.length;c+=r.default.NUM_CHANNELS)l.pixels[c]>a&&(s.pixels[c]=n.r,s.pixels[c+1]=n.g,s.pixels[c+2]=n.b);return s}},266:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.crop=void 0;var n,r=(n=a(40))&&n.__esModule?n:{default:n};t.crop=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.top,n=void 0===a?0:a,o=t.left,i=void 0===o?0:o,l=t.height,s=void 0===l?e.height:l,c=t.width,u=void 0===c?e.width:c,h=new Uint8ClampedArray(s*u*r.default.NUM_CHANNELS),p=0,m=0;m<s;m+=1)for(var d=0;d<u;d+=1){var g=e.getPixel({x:i+d,y:n+m});h[p]=g[0],h[p+1]=g[1],h[p+2]=g[2],h[p+3]=g[3],p+=r.default.NUM_CHANNELS}return new r.default(u,s,h)}},267:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.gammaCorrection=void 0;var n=a(60),r=a(55);t.gammaCorrection=function(e,t){if(t<0)throw new r.ImageOperationException("GammaCorrectionException","Invalid gamma value, gamma should be equal or greater than 0.");for(var a=[],o=0;o<256;++o)a[o]=255*Math.pow(o/255,t);return(0,n.transformImage)(e,a)}},268:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.grayscaleStrategies=t.imageToGrayscale=void 0;var n,r=(n=a(40))&&n.__esModule?n:{default:n};t.imageToGrayscale=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,a=e.copy(),n=0;n<a.pixels.length;n+=r.default.NUM_CHANNELS){var i=t(e.pixels[n],e.pixels[n+1],e.pixels[n+2]);a.pixels[n]=i,a.pixels[n+1]=i,a.pixels[n+2]=i}return a};var o=function(e,t,a){return Math.round(.222*e+.707*t+.071*a)},i={pixelToGrayscalePal:o};t.grayscaleStrategies=i},269:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.histogramEqualization=void 0;var n=a(60);t.histogramEqualization=function(e,t){for(var a=t.count/256,r=[],o=0;o<256;++o)r.push(Math.max(0,Math.round(t.counts.Gray[o]/a)-1));return(0,n.transformImage)(e,r)}},270:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.histogramSpecification=void 0;var n=a(60);t.histogramSpecification=function(e,t,a){for(var r=t.counts.Gray.map(function(e){return e/t.count}),o=a.counts.Gray.map(function(e){return e/a.count}),i=[],l=0;l<256;++l){for(var s=255;s>=0&&r[l]<=o[s];)s-=1;i.push(s)}return(0,n.transformImage)(e,i)}},271:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.imageResampling=void 0;var n,r=(n=a(40))&&n.__esModule?n:{default:n},o=a(55);t.imageResampling=function(e,t,a){if(t<1||t>e.width)throw new o.ImageOperationException("ImageResamplingException","Invalid block width value, block width should be greater than 0 and less or equal than image width.");if(a<1||a>e.height)throw new o.ImageOperationException("ImageResamplingException","Invalid block height value, block height should be greater than 0 and less or equal than image height.");for(var n,l=new Uint8ClampedArray(e.width*e.height*r.default.NUM_CHANNELS),s=0;s+a<=e.height;){for(n=0;n+t<=e.width;)i(e,l,n,s,n+t,s+a),n+=t;i(e,l,n,s,e.width,s+a),s+=a}for(n=0;n+t<=e.width;)i(e,l,n,s,n+t,e.height),n+=t;return i(e,l,n,s,e.width,e.height),new r.default(e.width,e.height,l)};var i=function(e,t,a,n,o,i){for(var l,s=[0,0,0,0],c=0,u=n;u<i;++u)for(var h=a;h<o;++h){for(var p=0;p<r.default.NUM_CHANNELS;++p)s[p]=s[p]+e.getPixel({x:h,y:u})[p];c+=1}for(var m=s.map(function(e){return e/c}),d=n;d<i;++d)for(var g=a;g<o;++g)t[l=(d*e.width+g)*r.default.NUM_CHANNELS]=m[0],t[l+1]=m[1],t[l+2]=m[2],t[l+3]=m[3]}},272:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.imageResizing=void 0;var n,r=(n=a(40))&&n.__esModule?n:{default:n},o=a(55);t.imageResizing=function(e,t,a,n){var i=e.width,l=e.height,s=t/100,c=a/100,u=Math.floor(i*s),h=Math.floor(l*c);if(u<1)throw new o.ImageOperationException("ImageResizingException","Width of the resized image is too small.");if(h<1)throw new o.ImageOperationException("ImageResizingException","Height of the resized image is too small.");for(var p,m=new Uint8ClampedArray(u*h*r.default.NUM_CHANNELS),d=0,g=0;g<h;++g)for(var f=0;f<u;++f){var b=n((p={x:f/s,y:g/c}).x,p.y,e);m[d]=Math.round(b[0]),m[d+1]=Math.round(b[1]),m[d+2]=Math.round(b[2]),m[d+3]=Math.round(b[3]),d+=r.default.NUM_CHANNELS}return new r.default(u,h,m)}},273:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.imageRotation=void 0;var n,r=(n=a(40))&&n.__esModule?n:{default:n};var o=function(e,t,a){return e>=t&&e<a};t.imageRotation=function(e,t,a,n){var s=e.width,c=e.height,u=t*(Math.PI/180),h=function(e,t){return{x:Math.cos(u)*e-Math.sin(u)*t,y:Math.sin(u)*e+Math.cos(u)*t}},p=l(s,c,h);if(n)return i(e,h,p);for(var m,d,g,f=new Uint8ClampedArray(p.width*p.height*r.default.NUM_CHANNELS),b=0,v=0;v<p.height;++v)for(var y=0;y<p.width;++y){if(d=y+p.minXCoord,g=v+p.minYCoord,m={x:Math.cos(-u)*d-Math.sin(-u)*g,y:Math.sin(-u)*d+Math.cos(-u)*g},o(Math.round(m.x),0,s+1)&&o(Math.round(m.y),0,c+1)){var O=a(m.x,m.y,e);f[b]=Math.round(O[0]),f[b+1]=Math.round(O[1]),f[b+2]=Math.round(O[2]),f[b+3]=Math.round(O[3])}else f[b]=0,f[b+1]=0,f[b+2]=0,f[b+3]=0;b+=r.default.NUM_CHANNELS}return new r.default(p.width,p.height,f)};var i=function(e,t,a){for(var n,o,i,l=new Uint8ClampedArray(a.width*a.height*r.default.NUM_CHANNELS),s=0;s<e.height;++s)for(var c=0;c<e.width;++c)n=t(c,s),o=(Math.round(n.y-a.minYCoord)*a.width+Math.round(n.x-a.minXCoord))*r.default.NUM_CHANNELS,i=e.getPixel({x:c,y:s}),l[o]=i[0],l[o+1]=i[1],l[o+2]=i[2],l[o+3]=i[3];return new r.default(a.width,a.height,l)},l=function(e,t,a){var n=a(0,0),r=a(0,t),o=a(e,0),i=a(e,t),l=Math.max(n.x,r.x,o.x,i.x),s=Math.min(n.x,r.x,o.x,i.x),c=Math.max(n.y,r.y,o.y,i.y),u=Math.min(n.y,r.y,o.y,i.y);return{width:Math.floor(Math.abs(l-s)),height:Math.floor(Math.abs(c-u)),minXCoord:s,minYCoord:u}}},274:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.imageTranspose=void 0;var n,r=(n=a(40))&&n.__esModule?n:{default:n};t.imageTranspose=function(e){for(var t,a=e.width,n=e.height,o=new Uint8ClampedArray(n*a*r.default.NUM_CHANNELS),i=0,l=0;l<a;++l)for(var s=0;s<n;++s)t=e.getPixel({x:l,y:s}),o[i]=t[0],o[i+1]=t[1],o[i+2]=t[2],o[i+3]=t[3],i+=r.default.NUM_CHANNELS;return new r.default(n,a,o)}},275:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.interpolationMethods=void 0;var n,r=(n=a(40))&&n.__esModule?n:{default:n};var o={closestNeighbourInterpolation:function(e,t,a){return[a.getPixel({x:Math.round(e),y:Math.round(t)})[0],a.getPixel({x:Math.round(e),y:Math.round(t)})[1],a.getPixel({x:Math.round(e),y:Math.round(t)})[2],a.getPixel({x:Math.round(e),y:Math.round(t)})[3]]},bilinearInterpolation:function(e,t,a){for(var n=[a.getPixel({x:Math.floor(e),y:Math.ceil(t)})[0],a.getPixel({x:Math.floor(e),y:Math.ceil(t)})[1],a.getPixel({x:Math.floor(e),y:Math.ceil(t)})[2],a.getPixel({x:Math.floor(e),y:Math.ceil(t)})[3]],o=[a.getPixel({x:Math.ceil(e),y:Math.ceil(t)})[0],a.getPixel({x:Math.ceil(e),y:Math.ceil(t)})[1],a.getPixel({x:Math.ceil(e),y:Math.ceil(t)})[2],a.getPixel({x:Math.ceil(e),y:Math.ceil(t)})[3]],i=[a.getPixel({x:Math.floor(e),y:Math.floor(t)})[0],a.getPixel({x:Math.floor(e),y:Math.floor(t)})[1],a.getPixel({x:Math.floor(e),y:Math.floor(t)})[2],a.getPixel({x:Math.floor(e),y:Math.floor(t)})[3]],l=[a.getPixel({x:Math.ceil(e),y:Math.floor(t)})[0],a.getPixel({x:Math.ceil(e),y:Math.floor(t)})[1],a.getPixel({x:Math.ceil(e),y:Math.floor(t)})[2],a.getPixel({x:Math.ceil(e),y:Math.floor(t)})[3]],s=e-Math.floor(e),c=t-Math.floor(t),u=[],h=0;h<r.default.NUM_CHANNELS;++h)u[h]=i[h]+(l[h]-i[h])*s+(n[h]-i[h])*c+(o[h]+i[h]-n[h]-l[h])*s*c;return u}};t.interpolationMethods=o},276:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.linearTransformation=void 0;var n=a(60),r=a(55);t.linearTransformation=function(e,t){if(t.length<2)throw new r.ImageOperationException("LinearTransformationException","Linear transformation needs at least 2 points");for(var a=0;a<t.length-1;++a){if(t[a].x>t[a+1].x)throw new r.ImageOperationException("LinearTransformationException","Points must be ordered according to the x coordinate value");if(t[a].x===t[a+1].x)throw new r.ImageOperationException("LinearTransformationException","Different points should not have the same x coordinate value")}if(t[0].x>0)throw new r.ImageOperationException("LinearTransformationException","X coordinate value of the first point should be less or equal to 0");if(t[t.length-1].x<255)throw new r.ImageOperationException("LinearTransformationException","X coordinate value of the last point should be greater or equal to 255");for(var o=[],i=1;i<t.length;++i){var l={};l.slope=(t[i].y-t[i-1].y)/(t[i].x-t[i-1].x),l.yIntercept=t[i].y-l.slope*t[i].x,l.frontier=t[i].x,o.push(l)}for(var s=[],c=0,u=0;u<256;++u){u>o[c].frontier&&c++;var h=Math.round(o[c].slope*u+o[c].yIntercept);s.push(Math.min(Math.max(h,0),255))}return(0,n.transformImage)(e,s)}},277:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mirror=void 0;var n,r=(n=a(40))&&n.__esModule?n:{default:n};var o={horizontal:function(e){for(var t,a=e.width,n=e.height,o=new Uint8ClampedArray(a*n*r.default.NUM_CHANNELS),i=0,l=n-1;l>=0;--l)for(var s=0;s<a;++s)t=e.getPixel({x:s,y:l}),o[i]=t[0],o[i+1]=t[1],o[i+2]=t[2],o[i+3]=t[3],i+=r.default.NUM_CHANNELS;return new r.default(a,n,o)},vertical:function(e){for(var t,a=e.width,n=e.height,o=new Uint8ClampedArray(a*n*r.default.NUM_CHANNELS),i=0,l=0;l<n;++l)for(var s=a-1;s>=0;--s)t=e.getPixel({x:s,y:l}),o[i]=t[0],o[i+1]=t[1],o[i+2]=t[2],o[i+3]=t[3],i+=r.default.NUM_CHANNELS;return new r.default(a,n,o)}};t.mirror=o},278:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.quantization=void 0;var n=a(60),r=a(55);t.quantization=function(e,t){if(t<0||t>8)throw new r.ImageOperationException("QuantizationException","Invalid amount of levels, the amount should be equal or greater than 0 and equal or less than 8.");if(!Number.isInteger(t))throw new r.ImageOperationException("QuantizationException","Invalid amount of levels, the value should be an integer number.");if(8===t)return e;var a=[0];if(t>1)for(var o=256/(Math.pow(2,t)-1);a[a.length-1]+o<255;)a.push(a[a.length-1]+o);a=a.map(function(e){return Math.round(e)}),t>0&&a.push(255);for(var i,l,s,c=[],u=0;u<256;++u){l=Number.POSITIVE_INFINITY;for(var h=0;h<a.length;++h)(i=Math.abs(u-a[h]))<l&&(s=h,l=i);c.push(a[s])}return(0,n.transformImage)(e,c)}},40:function(e,t,a){"use strict";function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function r(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(){function e(t,a,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"toImageData",function(){return e.toImageData(r)}),o(this,"copy",function(){return new e(r.width,r.height,new Uint8ClampedArray(r.pixels))}),o(this,"getPixel",function(e){var t=e.x,a=e.y;t=Math.max(0,Math.min(r.width-1,t)),a=Math.max(0,Math.min(r.height-1,a));var n=r._mapMatrixPositionToArray(t,a);return[r.pixels[n],r.pixels[n+1],r.pixels[n+2],r.pixels[n+3]]}),o(this,"_mapMatrixPositionToArray",function(t,a){return(a*r.width+t)*e.NUM_CHANNELS}),this._width=t,this._height=a,this._pixels=n}return r(e,null,[{key:"fromImageData",value:function(t){return new e(t.width,t.height,t.data)}},{key:"toImageData",value:function(e){var t=e.width,a=e.height,n=e.pixels,r=new ImageData(t,a);return r.data.set(n),r}}]),r(e,[{key:"pixels",get:function(){return this._pixels}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}}]),e}();t.default=i,o(i,"NUM_CHANNELS",4)},55:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ImageOperationException",{enumerable:!0,get:function(){return r.default}});var n,r=(n=a(262))&&n.__esModule?n:{default:n}},60:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transformImage=void 0;var n,r=(n=a(40))&&n.__esModule?n:{default:n};t.transformImage=function(e,t){for(var a=e.copy(),n=0;n<a.pixels.length;n+=r.default.NUM_CHANNELS)a.pixels[n]=t[a.pixels[n]],a.pixels[n+1]=t[a.pixels[n+1]],a.pixels[n+2]=t[a.pixels[n+2]];return a}},614:function(e,t,a){},615:function(e,t,a){},618:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(29),i=a.n(o),l=a(3),s=a(8),c=a(7),u=a(4),h=a(6),p=a(58),m=a(107),d=a(150),g={GRID_COLUMNS:{lg:10,md:8,sm:6,xs:4,xxs:2},LAYOUT_BREAKPOINTS:{lg:1200,md:996,sm:768,xs:480,xxs:0},DEFAULT_GRID_ITEM_COLS:2,DEFAULT_GRID_ITEM_ROWS:4,GRID_ITEM_ROW_HEIGHT:50},f=Object(d.WidthProvider)(d.Responsive),b=function(e){var t=e.children,a=Object(m.a)(e,["children"]);return r.a.createElement(f,Object.assign({cols:g.GRID_COLUMNS,breakpoints:g.LAYOUT_BREAKPOINTS,rowHeight:g.GRID_ITEM_ROW_HEIGHT},a),t)};b.defaultProps=Object(p.a)({layouts:{}},f.defaultProps);var v=b,y=(a(258),function(e){var t=e.onDelete,a=Object(m.a)(e,["onDelete"]);return r.a.createElement("button",Object.assign({className:"DeleteButton",onClick:t,disabled:!t,"aria-label":"delete"},a),"\xd7")});y.defaultProps={onDelete:null};var O=y,E=(a(259),function(e){e.preventDefault(),e.stopPropagation()}),C=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isDraggable:!1},a.onDragHandleMouseDown=function(){return a.setState({isDraggable:!0})},a.onDragHandleMouseUp=function(){return a.state.isDraggable&&a.setState({isDraggable:!1})},a.onDragStart=function(e){a.state.isDraggable&&(E(e),a.props.onMouseDown&&a.props.onMouseDown(e))},a.onDragEnd=function(e){a.state.isDraggable&&(E(e),a.props.onMouseUp&&a.props.onMouseUp(e))},a.onDelete=function(){return a.props.onDelete(a.props.id)},a.onSelect=function(){return a.props.onSelect(a.props.id)},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mouseup",this.onDragHandleMouseUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.onDragHandleMouseUp)}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n=e.style,o=e.name,i=e.onSelect,l=e.onDelete,s=e.isSelected;return r.a.createElement("div",{className:"Item ".concat(a," ").concat(s&&"is-selected"),style:n,draggable:this.state.isDraggable,onDragStart:this.onDragStart,onMouseUp:this.onDragEnd,onFocus:i?this.onSelect:null,tabIndex:"0"},r.a.createElement("div",{onMouseDown:this.onDragHandleMouseDown,className:"Item__toolbar"},r.a.createElement(O,{onMouseDown:E,onDelete:l?this.onDelete:null}),r.a.createElement("span",{className:"Item__name"},o)),r.a.createElement("div",{className:"Item__childrenContainer"},t))}}]),t}(r.a.Component);C.defaultProps={name:"",onDelete:null,onSelect:null,onDeselect:null,isSelected:!1};var j={Grid:v,Item:C},I=a(17);function x(e,t){return function(e,t){var a=t.top,n=t.left;return{x:e.clientX-Math.ceil(n),y:e.clientY-Math.ceil(a)}}(e,t.getBoundingClientRect())}function S(e,t){return{left:Math.min(e.x,t.x),right:Math.max(e.x,t.x),top:Math.min(e.y,t.y),bottom:Math.max(e.y,t.y)}}var w=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isImageLoading:!1,isMouseDown:!1,mouseDownOriginCoordinates:{x:-1,y:-1},currentMouseCoordinates:{x:-1,y:-1}},a.onMouseMove=function(e){if(a.props.onMouseMove&&!a.state.isImageLoading){var t=x(e,a.refs.canvas),n=a.props.rgbaImage.getPixel(t);a.state.isMouseDown&&a.setState({currentMouseCoordinates:t}),a.props.onMouseMove(t,n)}},a.onMouseDown=function(e){var t=x(e,a.refs.canvas);a.setState({mouseDownOriginCoordinates:t,isMouseDown:!0,currentMouseCoordinates:t})},a.onMouseUp=function(){var e=a.state,t=e.isMouseDown,n=e.mouseDownOriginCoordinates,r=e.currentMouseCoordinates;if(t)if(n.x===r.x&&n.y===r.y){a.setState({isMouseDown:!1,mouseDownOriginCoordinates:{x:-1,y:-1},currentMouseCoordinates:{x:-1,y:-1}});var o=a.props.rgbaImage,i=o.width,l=o.height;a.props.onSelection({mouseDownCoords:{x:0,y:0},mouseUpCoords:{x:i,y:l}})}else a.setState({isMouseDown:!1}),a.props.onSelection({mouseDownCoords:n,mouseUpCoords:r})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.refs.canvas,t=e.getContext("2d");e.width=this.props.rgbaImage.width,e.height=this.props.rgbaImage.height,t.putImageData(this.props.rgbaImage.toImageData(),0,0),this.setState({isImageLoading:!1})}},{key:"render",value:function(){var e=this.state,t=e.mouseDownOriginCoordinates,a=e.currentMouseCoordinates;return r.a.createElement("div",{style:{position:"relative"},onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseMove:this.onMouseMove},r.a.createElement("canvas",{ref:"canvas",style:{display:"block",backgroundColor:"#eee",maxHeight:"100%"}}),this.props.children({originCoords:t,endCoords:a}))}}]),t}(n.Component);w.defaultProps={onMouseMove:null};var M=w,k=(a(157),a(31)),D=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={emphasizedValue:null,histogramVisualizationData:[],channel:a.props.channel},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({histogramVisualizationData:this.props.histogram.map(function(e,t){return{x0:t,x:t+1,y:e}})})}},{key:"render",value:function(){var e=this;return r.a.createElement(k.a,{margin:{left:70},onMouseLeave:function(){return e.setState({emphasizedValue:null})}},r.a.createElement(k.e,null),r.a.createElement(k.c,null),r.a.createElement(k.g,null),r.a.createElement(k.i,null),r.a.createElement(k.f,{onNearestX:function(t){return e.setState({emphasizedValue:t})},data:this.state.histogramVisualizationData,color:this.state.channel}),this.state.emphasizedValue?r.a.createElement(k.b,{value:this.state.emphasizedValue,align:{horizontal:"auto",vertical:"top"},style:{fontSize:14},format:function(e){return[{title:"Value: "+e.x0,value:"Count: "+e.y}]}}):null)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.channel&&e.channel!==t.channel?{emphasizedValue:null,histogramVisualizationData:e.histogram.map(function(e,t){return{x0:t,x:t+1,y:e}}),channel:e.channel}:null}}]),t}(n.Component),_=a(12),P=a.n(_),N=a(231),A=a.n(N),G=a(233),H=a.n(G),T=a(38),L=a.n(T),R=a(232),V=a.n(R),F=a(54),U=a.n(F),z=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={currentTab:0,currentChannel:Object.keys(a.props.histogram.histogramValues)[0]},a.updateCurrentTab=function(e,t){return a.setState({currentTab:t})},a.updateCurrentChannel=function(e,t){return a.setState({currentChannel:t})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.currentTab,n=t.currentChannel,o=this.props.histogram,i=o.histogramValues,l=o.histogramInfo,s=this.props.cHistogram.counts;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(P.a,{style:0===a?{boxShadow:"0px 4px 6px -5px black"}:{},onClick:function(t){return e.updateCurrentTab(t,0)}},"Histogram"),r.a.createElement(P.a,{style:1===a?{boxShadow:"0px 4px 6px -5px black"}:{},onClick:function(t){return e.updateCurrentTab(t,1)}},"Cumulative"),r.a.createElement(P.a,{style:2===a?{boxShadow:"0px 4px 6px -5px black"}:{},onClick:function(t){return e.updateCurrentTab(t,2)}},"Information")),r.a.createElement("div",{style:{padding:"10px 0px 0px 0px",display:"flex",justifyContent:"center"}},Object.keys(i).map(function(t){return r.a.createElement(P.a,{style:n===t?{boxShadow:"0px 4px 6px -5px ".concat(t)}:{},onClick:function(a){return e.updateCurrentChannel(a,t)},key:t},t)})),r.a.createElement("div",{style:{width:"100%",height:"100%",maxHeight:"80%",display:"flex",justifyContent:"center",alignItems:"center"}},0===a&&r.a.createElement(D,{histogram:i[n],channel:n}),1===a&&r.a.createElement(D,{histogram:s[n],channel:n}),2===a&&r.a.createElement("div",{className:"scrollable",style:{maxWidth:"500px"}},r.a.createElement(A.a,null,r.a.createElement(V.a,null,r.a.createElement(U.a,null,r.a.createElement(L.a,null,"Variable"),r.a.createElement(L.a,{align:"right"},"Value"))),r.a.createElement(H.a,null,r.a.createElement(U.a,null,r.a.createElement(L.a,null,"Count"),r.a.createElement(L.a,{align:"right"},l[n].count)),r.a.createElement(U.a,null,r.a.createElement(L.a,null,"Brightness"),r.a.createElement(L.a,{align:"right"},l.brightness.toFixed(3))),r.a.createElement(U.a,null,r.a.createElement(L.a,null,"Contrast"),r.a.createElement(L.a,{align:"right"},l.contrast.toFixed(3))),r.a.createElement(U.a,null,r.a.createElement(L.a,null,"Minimum value"),r.a.createElement(L.a,{align:"right"},l[n].minValue)),r.a.createElement(U.a,null,r.a.createElement(L.a,null,"Maximum value"),r.a.createElement(L.a,{align:"right"},l[n].maxValue)),r.a.createElement(U.a,null,r.a.createElement(L.a,null,"Mode"),r.a.createElement(L.a,{align:"right"},l[n].mode.value)),r.a.createElement(U.a,null,r.a.createElement(L.a,null,"Entropy"),r.a.createElement(L.a,{align:"right"},l[n].entropy)))))))}}]),t}(r.a.Component),B=a(242),W=a.n(B),q=a(106),Y=a.n(q),X=a(52),Q=a.n(X),J=a(44),K=a.n(J),Z=a(57),$=a.n(Z),ee=a(53),te=a.n(ee),ae=a(11),ne=a(5),re=a(16),oe=a.n(re),ie=a(244),le=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,"Error loading image with src = ".concat(e)))).name="ImageLoadException",a.src=e,a}return Object(h.a)(t,e),t}(Object(ie.a)(Error));function se(e){var t=URL.createObjectURL(e);return function(e){var t=new Image;return t.src=e,new Promise(function(a,n){t.onload=function(){return a(t)},t.onerror=function(){return n(new le(e))}})}(t).finally(function(){return URL.revokeObjectURL(t)})}var ce=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onImageFileInputted=function(e){var t=a.props,n=t.enqueueSnackbar,r=t.appStore,o=e.target.files;1===o.length&&o[0]?se(o[0]).then(function(e){var t=document.createElement("canvas"),n=t.getContext("2d");t.width=e.naturalWidth,t.height=e.naturalHeight,n.drawImage(e,0,0);var o=n.getImageData(0,0,t.width,t.height),i=I.RgbaImageBuffer.fromImageData(o);r.addImage(i),a.refs.fileInputForm.reset()}).catch(function(){n("Could not load image",{variant:"error"})}):n("Error reading image file",{variant:"error"})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"image-input"},r.a.createElement(oe.a,null,"Open")),r.a.createElement("form",{ref:"fileInputForm"},r.a.createElement("input",{hidden:!0,id:"image-input",type:"file",accept:"image/*",name:"image-input",onChange:this.onImageFileInputted})))}}]),t}(r.a.Component),ue=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(ce))),he=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).downloadCurrentImage=function(){var e=a.props,t=e.enqueueSnackbar,n=e.appStore,r=n.selectedGridItem,o=r.type,i=r.index;if("image"!==o||i<0)t("You first need to select an image",{variant:"warning"});else{var l=n.imagesInfos[i],s=l.region,c=s.left,u=s.top,h=s.width,p=s.height,m=l.imageBuffer.toImageData(),d=document.createElement("canvas"),g=d.getContext("2d");d.width=m.width,d.height=m.height,g.putImageData(m,0,0,c,u,h,p),d.toBlob(function(e){var t=URL.createObjectURL(e);a.refs.downloadAnchor.href=t,a.refs.downloadAnchor.click(),URL.revokeObjectURL(t)},null,1)}},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.downloadCurrentImage},"Download"),r.a.createElement("div",null,r.a.createElement("a",{ref:"downloadAnchor",href:"#download",id:"download",hidden:!0,download:!0},"This should not be visible. It is only used when downloading images")))}}]),t}(r.a.Component),pe=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(he))),me=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleToggle=function(){a.setState(function(e){return{open:!e.open}})},a.handleClose=function(e){a.anchorEl.contains(e.target)||a.setState({open:!1})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.open;return r.a.createElement("div",null,r.a.createElement(P.a,{buttonRef:function(t){e.anchorEl=t},"aria-owns":t?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:this.handleToggle,color:"inherit"},"File"),r.a.createElement($.a,{open:t,style:this.state.open?{}:{display:"none"},anchorEl:this.anchorEl,transition:!0,disablePortal:!0},r.a.createElement(K.a,{onClick:this.handleClose},r.a.createElement(Q.a,{onClickAway:this.handleClose},r.a.createElement(te.a,null,r.a.createElement(ue,null),r.a.createElement(pe,null))))))}}]),t}(r.a.Component),de=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onClick=function(){var e=a.props,t=e.appStore,n=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?n("You first need to select an image",{variant:"warning"}):a.props.appStore.showHistogramOfCurrentImage()},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.onClick},"Histogram"))}}]),t}(r.a.Component),ge=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(de))),fe=I.operations.crop,be=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).cropCurrentImage=function(){var e=a.props,t=e.enqueueSnackbar,n=e.appStore,r=n.imageSelectionMehod,o=n.selectedGridItem,i=o.type,l=o.index;if("image"!==i||l<0)t("You first need to select an image",{variant:"warning"});else if("selection"!==r)t("You need to select a part of the image with the selection tool",{variant:"error"});else{var s=n.addImage,c=n.imagesInfos;s(fe(c[l].imageBuffer,c[l].region))}},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.cropCurrentImage},"Crop"))}}]),t}(r.a.Component),ve=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(be))),ye=function(e,t){for(var a=[],n=e.x,r=t.x,o=e.y,i=t.y,l=Math.abs(r-n),s=Math.abs(i-o),c=n<r?1:-1,u=o<i?1:-1,h=l-s;a.push({x:n,y:o}),!(Math.abs(n-r)<1e-4&&Math.abs(o-i)<1e-4);){var p=2*h;p>-s&&(h-=s,n+=c),p<l&&(h+=l,o+=u)}return a},Oe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getProfile=function(){var e=a.props,t=e.enqueueSnackbar,n=e.appStore,r=n.imageSelectionMehod,o=n.selectedGridItem,i=o.type,l=o.index;"image"!==i||l<0?t("You first need to select an image",{variant:"warning"}):"line"!==r?t("You need to select a line inside the image with the profile tool",{variant:"error"}):function(){var e=n.imagesInfos[l].region,t=e.left,a=e.top,r=e.width,o=e.height,i=ye({x:t,y:a},{x:t+r,y:a+o}),s=n.imagesInfos[l].imageBuffer,c={Red:[],Green:[],Blue:[],Gray:[]};i.forEach(function(e){var t=s.getPixel({x:e.x,y:e.y});c.Red.push(t[0]),c.Green.push(t[1]),c.Blue.push(t[2]),c.Gray.push(Math.round(.222*t[0]+.707*t[1]+.071*t[2]))});for(var u={Red:[],Green:[],Blue:[],Gray:[]},h=function(e){Object.keys(c).forEach(function(t){u[t].push((c[t][e+1]-c[t][e-1])/2)})},p=1;p<c.Red.length-1;++p)h(p);n.addProfile(c,u)}()},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.getProfile},"Profile"))}}]),t}(r.a.Component),Ee=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(Oe))),Ce=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleToggle=function(){a.setState(function(e){return{open:!e.open}})},a.handleClose=function(e){a.anchorEl.contains(e.target)||a.setState({open:!1})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.open;return r.a.createElement("div",null,r.a.createElement(P.a,{buttonRef:function(t){e.anchorEl=t},"aria-owns":t?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:this.handleToggle,color:"inherit"},"Image"),r.a.createElement($.a,{open:t,style:this.state.open?{}:{display:"none"},anchorEl:this.anchorEl,transition:!0,disablePortal:!0},r.a.createElement(K.a,{onClick:this.handleClose},r.a.createElement(Q.a,{onClickAway:this.handleClose},r.a.createElement(te.a,null,r.a.createElement(ge,null),r.a.createElement(ve,null),r.a.createElement(Ee,null))))))}}]),t}(r.a.Component),je=a(243),Ie=a(33),xe=a.n(Ie),Se=a(37),we=a.n(Se),Me=a(35),ke=a.n(Me),De=a(36),_e=a.n(De),Pe=a(34),Ne=a.n(Pe),Ae=a(30),Ge=a.n(Ae),He=a(27),Te=a.n(He),Le=a(149),Re=a.n(Le),Ve=a(234),Fe=a.n(Ve),Ue=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onYChange=function(e){var t=Number.parseFloat(e.target.value);a.props.onChange(Object(p.a)({},a.props.coordinate,{y:Number.isFinite(t)?t:""}))},a.onXChange=function(e){var t=Number.parseFloat(e.target.value);a.props.onChange(Object(p.a)({},a.props.coordinate,{x:Number.isFinite(t)?t:""}))},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{display:"flex",justifyContent:"center",width:"100%"}},r.a.createElement(Ge.a,{type:"number",placeholder:"0",value:this.props.coordinate.x,onChange:this.onXChange,margin:"dense",InputProps:{startAdornment:r.a.createElement(Te.a,{position:"start"},"x: ")}}),r.a.createElement(Ge.a,{type:"number",placeholder:"0",value:this.props.coordinate.y,onChange:this.onYChange,margin:"dense",InputProps:{startAdornment:r.a.createElement(Te.a,{position:"start"},"y: ")}}),r.a.createElement(Re.a,{"aria-label":"Delete",onClick:this.props.onDelete},r.a.createElement(Fe.a,null)))}}]),t}(r.a.Component),ze=I.operations.linearTransformation,Be={center:{width:"100%",display:"flex",justifyContent:"center",marginTop:"1rem",marginBottom:"1rem"}},We=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={coords:[{x:0,y:0},{x:255,y:255}]},a.onDataChange=function(e){return function(t){a.setState(function(a){return{coords:a.coords.map(function(a,n){return n===e?t:a})}})}},a.onDataDelete=function(e){return function(){a.setState(function(t){return{coords:t.coords.filter(function(t,a){return a!==e})}})}},a.addNewCoordinate=function(){var e=a.state.coords.length<1?{x:0,y:0}:a.state.coords.slice(-1)[0];a.setState(function(t){return{coords:[].concat(Object(je.a)(t.coords),[e])}})},a.onSubmit=function(){var e=a.props,t=e.appStore,n=e.onClose,r=t.selectedGridItem.index;t.addImage(ze(t.imagesInfos[r].imageBuffer,a.state.coords)),n()},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(xe.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},r.a.createElement(Ne.a,{id:"form-dialog-title"},"Linear Sections"),r.a.createElement(ke.a,null,r.a.createElement(_e.a,null,"Please, enter the points to define the begin and end of each linear section"),r.a.createElement("div",{style:Be.center},r.a.createElement(k.h,{width:300,height:300},r.a.createElement(k.c,null),r.a.createElement(k.d,{data:this.state.coords,xDomain:[0,255],yDomain:[0,255]}),r.a.createElement(k.g,null),r.a.createElement(k.i,null))),r.a.createElement("div",{style:Be.center},r.a.createElement(P.a,{onClick:this.addNewCoordinate,fullWidth:!0,variant:"contained",color:"primary"},"Add new coordinate")),r.a.createElement("div",null,this.state.coords.map(function(t,a){return r.a.createElement(Ue,{key:a,coordinate:t,onChange:e.onDataChange(a),onDelete:e.onDataDelete(a)})}))),r.a.createElement(we.a,null,r.a.createElement(P.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),r.a.createElement(P.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}]),t}(r.a.Component),qe=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(We))),Ye=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isDialogOpen:!1},a.openDialog=function(){var e=a.props,t=e.appStore,n=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?n("You first need to select an image",{variant:"warning"}):a.setState({isDialogOpen:!0})},a.closeDialog=function(){return a.setState({isDialogOpen:!1})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.openDialog},"Linear Transformation"),r.a.createElement(qe,{isOpen:this.state.isDialogOpen,onClose:this.closeDialog}))}}]),t}(r.a.Component),Xe=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(Ye))),Qe=a(21),Je=function(e,t,a){return e>=t&&e<a},Ke=I.operations.brightnessAndContrastAdjustment,Ze={inputsContainer:{flexWrap:"wrap",margin:"1rem"},input:{margin:"1rem"}},$e=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={brightness:0,brightnessErrorMessage:"",contrast:0,contrastErrorMessage:"",formChanged:!1},a.onChange=function(e,t,n,r,o){var i,l,s=Number.parseFloat(e.target.value);Je(s,r,o+1)?a.setState((i={},Object(Qe.a)(i,t,s),Object(Qe.a)(i,n,""),Object(Qe.a)(i,"formChanged",!0),i)):a.setState((l={},Object(Qe.a)(l,t,e.target.value),Object(Qe.a)(l,n,"Required a number between ".concat(r," and ").concat(o)),Object(Qe.a)(l,"formChanged",!0),l))},a.onBrightnessChange=function(e){return a.onChange(e,"brightness","brightnessErrorMessage",0,255)},a.onContrastChange=function(e){return a.onChange(e,"contrast","contrastErrorMessage",0,128)},a.onSubmit=function(){var e=a.state,t=e.brightness,n=e.contrast,r=a.props.appStore,o=r.selectedGridItem.index;r.addImage(Ke(r.imagesInfos[o].imageBuffer,r.histogramInfos[o].histogram.histogramInfo.brightness,r.histogramInfos[o].histogram.histogramInfo.contrast,t,n)),a.onClose()},a.onClose=function(){a.setState({formChanged:!1}),a.props.onClose()},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(xe.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},r.a.createElement(Ne.a,{id:"form-dialog-title"},"Brightness and Contrast Adjustment"),r.a.createElement(ke.a,null,r.a.createElement(_e.a,null,"Please, enter the brightness and contrast for the new image"),r.a.createElement("div",{className:"center",style:Ze.inputsContainer},r.a.createElement(Ge.a,{error:!!this.state.brightnessErrorMessage,label:this.state.brightnessErrorMessage,type:"number",placeholder:String(this.state.brightness),value:this.state.brightness,onChange:this.onBrightnessChange,margin:"dense",style:Ze.input,InputProps:{startAdornment:r.a.createElement(Te.a,{position:"start"},"Brightness: ")}}),r.a.createElement(Ge.a,{error:!!this.state.contrastErrorMessage,label:this.state.contrastErrorMessage,type:"number",placeholder:String(this.state.contrast),value:this.state.contrast,onChange:this.onContrastChange,margin:"dense",style:Ze.input,InputProps:{startAdornment:r.a.createElement(Te.a,{position:"start"},"Contrast: ")}}))),r.a.createElement(we.a,null,r.a.createElement(P.a,{onClick:this.onClose,color:"primary"},"Cancel"),r.a.createElement(P.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.appStore,n=a.histogramInfos,r=a.selectedGridItem,o=t.brightness,i=t.contrast;if(r.index>=0){var l=n[r.index].histogram.histogramInfo;o=l.brightness,i=l.contrast}return t.formChanged?null:{brightness:+o.toFixed(2),contrast:+i.toFixed(2)}}}]),t}(r.a.Component),et=Object(ne.b)("appStore")(Object(ne.c)($e)),tt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isDialogOpen:!1},a.openDialog=function(){var e=a.props,t=e.appStore,n=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?n("You first need to select an image",{variant:"warning"}):a.setState({isDialogOpen:!0})},a.closeDialog=function(){return a.setState({isDialogOpen:!1})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.openDialog},"Brightness And Contrast"),r.a.createElement(et,{isOpen:this.state.isDialogOpen,onClose:this.closeDialog}))}}]),t}(r.a.Component),at=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(tt))),nt=I.operations.gammaCorrection,rt={inputsContainer:{flexWrap:"wrap",margin:"1rem"},input:{margin:"1rem"}},ot=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={gamma:0,gammaErrorMessage:""},a.onChange=function(e,t,n,r){var o,i,l=Number.parseFloat(e.target.value);Je(l,0,Number.POSITIVE_INFINITY)?a.setState((o={},Object(Qe.a)(o,t,l),Object(Qe.a)(o,n,""),o)):a.setState((i={},Object(Qe.a)(i,t,e.target.value),Object(Qe.a)(i,n,r),i))},a.onGammaChange=function(e){return a.onChange(e,"gamma","gammaErrorMessage","Required a value equal or greater than 0")},a.onSubmit=function(){var e=a.props.appStore,t=e.selectedGridItem.index;e.addImage(nt(e.imagesInfos[t].imageBuffer,a.state.gamma)),a.props.onClose()},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(xe.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},r.a.createElement(Ne.a,{id:"form-dialog-title"},"Gamma correction"),r.a.createElement(ke.a,null,r.a.createElement(_e.a,null,"Please, enter the gamma value for the new image"),r.a.createElement("div",{className:"center",style:rt.inputsContainer},r.a.createElement(Ge.a,{error:!!this.state.gammaErrorMessage,label:this.state.gammaErrorMessage,type:"number",placeholder:"0",value:this.state.gamma,onChange:this.onGammaChange,margin:"dense",style:rt.input,InputProps:{startAdornment:r.a.createElement(Te.a,{position:"start"},"Gamma: ")}}))),r.a.createElement(we.a,null,r.a.createElement(P.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),r.a.createElement(P.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}]),t}(r.a.Component),it=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(ot))),lt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isDialogOpen:!1},a.openDialog=function(){var e=a.props,t=e.appStore,n=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?n("You first need to select an image",{variant:"warning"}):a.setState({isDialogOpen:!0})},a.closeDialog=function(){return a.setState({isDialogOpen:!1})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.openDialog},"Gamma Correction"),r.a.createElement(it,{isOpen:this.state.isDialogOpen,onClose:this.closeDialog}))}}]),t}(r.a.Component),st=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(lt))),ct=a(64),ut=a(148),ht=a.n(ut),pt=a(147),mt=a.n(pt),dt=a(235),gt=a.n(dt),ft=a(236),bt=a.n(ft),vt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null,selectedIndex:a.props.selectedItemIndex},a.handleClickListItem=function(e){a.setState({anchorEl:e.currentTarget})},a.handleMenuItemClick=function(e,t,n){a.setState({selectedIndex:t,anchorEl:null}),e.selectedItemName=n,e.selectedItemIndex=t,a.props.onItemSelection(e)},a.handleClose=function(){a.setState({anchorEl:null})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.anchorEl;return r.a.createElement("div",{className:t.root},r.a.createElement(ht.a,{component:"nav"},r.a.createElement(mt.a,{disabled:this.props.isDisabled,button:!0,"aria-haspopup":"true","aria-label":this.props.menuTitle,onClick:this.handleClickListItem},r.a.createElement(gt.a,{primary:this.props.menuTitle,secondary:this.props.options.length>0?this.props.options[this.state.selectedIndex]:"None"}))),this.props.options.length>0?r.a.createElement(bt.a,{anchorEl:a,open:Boolean(a),onClose:this.handleClose},this.props.options.map(function(t,a){return r.a.createElement(oe.a,{key:t,selected:a===e.state.selectedIndex,onClick:function(n){return e.handleMenuItemClick(n,a,t)}},t)})):null)}}]),t}(r.a.Component),yt=Object(ct.withStyles)(function(e){return{root:{backgroundColor:e.palette.background.paper}}})(vt),Ot=I.operations.imagesDifference,Et=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={imgName:""},a.onChange=function(e){return a.setState({imgName:e.selectedItemName})},a.onSubmit=function(){var e=a.state.imgName,t=a.props,n=t.appStore,r=t.enqueueSnackbar,o=n.selectedGridItem.index,i=n.imagesInfos.find(function(t){return t.key===e}),l=i&&i.imageBuffer;void 0===l?r("Couldn't find an image with the selected name (".concat(e,")"),{variant:"error"}):n.addImage(Ot(n.imagesInfos[o].imageBuffer,l)),a.props.onClose()},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.appStore.imagesInfos.map(function(e){return e.key});return r.a.createElement(xe.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},r.a.createElement(Ne.a,{id:"form-dialog-title"},"Image Difference"),r.a.createElement(ke.a,null,r.a.createElement(_e.a,null,"Please, select the image to perform the difference to the current image"),r.a.createElement("div",{className:"center"},r.a.createElement(yt,{menuTitle:"Selected image",options:e,onItemSelection:this.onChange}))),r.a.createElement(we.a,null,r.a.createElement(P.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),r.a.createElement(P.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}]),t}(r.a.Component),Ct=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(Et))),jt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isDialogOpen:!1},a.openDialog=function(){var e=a.props,t=e.appStore,n=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?n("You first need to select an image",{variant:"warning"}):a.setState({isDialogOpen:!0})},a.closeDialog=function(){return a.setState({isDialogOpen:!1})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.openDialog},"Image Difference"),r.a.createElement(Ct,{isOpen:this.state.isDialogOpen,onClose:this.closeDialog}))}}]),t}(r.a.Component),It=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(jt))),xt=a(237),St=I.operations.changesDetection,wt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={imgName:"",rgbaColor:{r:255,g:0,b:0},threshold:""},a.onImgNameChange=function(e){return a.setState({imgName:e.selectedItemName})},a.onThresholdChange=function(e){var t=Number.parseFloat(e.target.value);a.setState({threshold:Number.isFinite(t)?t:""})},a.handleChangeComplete=function(e){return a.setState({rgbaColor:e.rgb})},a.onSubmit=function(){var e=a.state,t=e.imgName,n=e.rgbaColor,r=e.threshold;a.applyChangesDetection({imgName:t,rgbaColor:n,threshold:""===r?0:r}),a.props.onClose()},a.applyChangesDetection=function(e){var t=e.imgName,n=e.rgbaColor,r=e.threshold,o=a.props,i=o.appStore,l=o.enqueueSnackbar,s=i.selectedGridItem.index,c=i.imagesInfos.find(function(e){return e.key===t}),u=c&&c.imageBuffer;void 0===u?l("Couldn't find an image with the selected name (".concat(t,")"),{variant:"error"}):i.addImage(St(i.imagesInfos[s].imageBuffer,u,r,n))},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.appStore.imagesInfos.map(function(e){return e.key});return r.a.createElement(xe.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},r.a.createElement(Ne.a,{id:"form-dialog-title"},"Changes Detection"),r.a.createElement(ke.a,null,r.a.createElement(_e.a,null,"Please, select the image to detect the changes between them. Also enter the color which will be used to highlight the differences and the difference threshold, value that will determine what is considered a difference and what not"),r.a.createElement("div",{className:"center",style:{justifyContent:"space-around"}},r.a.createElement(yt,{menuTitle:"Selected image",options:e,onItemSelection:this.onImgNameChange}),r.a.createElement(Ge.a,{placeholder:"0",type:"number",value:this.state.threshold,onChange:this.onThresholdChange,margin:"dense",InputProps:{startAdornment:r.a.createElement(Te.a,{position:"start"},"Threshold: ")}})),r.a.createElement("div",{className:"center",style:{marginTop:"1rem"}},r.a.createElement(xt.ChromePicker,{color:this.state.rgbaColor,onChangeComplete:this.handleChangeComplete}))),r.a.createElement(we.a,null,r.a.createElement(P.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),r.a.createElement(P.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}]),t}(r.a.Component),Mt=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(wt))),kt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isDialogOpen:!1},a.openDialog=function(){var e=a.props,t=e.appStore,n=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?n("You first need to select an image",{variant:"warning"}):a.setState({isDialogOpen:!0})},a.closeDialog=function(){return a.setState({isDialogOpen:!1})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.openDialog},"Changes Detection"),r.a.createElement(Mt,{isOpen:this.state.isDialogOpen,onClose:this.closeDialog}))}}]),t}(r.a.Component),Dt=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(kt))),_t=I.operations.histogramSpecification,Pt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={imgName:""},a.onChange=function(e){return a.setState({imgName:e.selectedItemName})},a.onSubmit=function(){var e=a.state.imgName,t=a.props,n=t.appStore,r=t.enqueueSnackbar,o=n.selectedGridItem.index,i=n.imagesInfos.findIndex(function(t){return t.key===e});i<0||i>n.imagesInfos.length?r("Couldn't find an image with the selected name (".concat(e,")"),{variant:"error"}):n.addImage(_t(n.imagesInfos[o].imageBuffer,n.histogramInfos[o].cHistogram,n.histogramInfos[i].cHistogram)),a.props.onClose()},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.appStore.imagesInfos.map(function(e){return e.key});return r.a.createElement(xe.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},r.a.createElement(Ne.a,{id:"form-dialog-title"},"Histogram Specificacion"),r.a.createElement(ke.a,null,r.a.createElement(_e.a,null,"Please, select the image with the histogram to perform the histogram specification to the current image"),r.a.createElement("div",{className:"center"},r.a.createElement(yt,{menuTitle:"Selected image",options:e,onItemSelection:this.onChange}))),r.a.createElement(we.a,null,r.a.createElement(P.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),r.a.createElement(P.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}]),t}(r.a.Component),Nt=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(Pt))),At=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isDialogOpen:!1},a.openDialog=function(){var e=a.props,t=e.appStore,n=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?n("You first need to select an image",{variant:"warning"}):a.setState({isDialogOpen:!0})},a.closeDialog=function(){return a.setState({isDialogOpen:!1})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.openDialog},"Histogram Specification"),r.a.createElement(Nt,{isOpen:this.state.isDialogOpen,onClose:this.closeDialog}))}}]),t}(r.a.Component),Gt=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(At))),Ht=I.operations.imageToGrayscale,Tt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).currentImageToGrayscale=function(){var e=a.props,t=e.enqueueSnackbar,n=e.appStore,r=a.props.appStore.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?t("You first need to select an image",{variant:"warning"}):n.addImage(Ht(n.imagesInfos[i].imageBuffer))},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.currentImageToGrayscale},"To Grayscale"))}}]),t}(r.a.Component),Lt=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(Tt))),Rt=I.operations.histogramEqualization,Vt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).currentImageHistogramEqualization=function(){var e=a.props,t=e.enqueueSnackbar,n=e.appStore,r=n.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?t("You first need to select an image",{variant:"warning"}):n.addImage(Rt(n.imagesInfos[i].imageBuffer,n.histogramInfos[i].cHistogram))},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.currentImageHistogramEqualization},"Histogram Equalization"))}}]),t}(r.a.Component),Ft=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(Vt))),Ut=I.operations.quantization,zt={inputsContainer:{flexWrap:"wrap",margin:"1rem"},input:{margin:"1rem"}},Bt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={levels:8,errorMessage:""},a.onChange=function(e,t,n,r,o){var i,l,s=Number.parseFloat(e.target.value);Je(s,r,o+1)?a.setState((i={},Object(Qe.a)(i,t,s),Object(Qe.a)(i,n,""),i)):a.setState((l={},Object(Qe.a)(l,t,e.target.value),Object(Qe.a)(l,n,"Required a number between ".concat(r," and ").concat(o)),l))},a.onLevelsChange=function(e){return a.onChange(e,"levels","errorMessage",0,8)},a.onSubmit=function(){var e=a.state.levels,t=a.props.appStore,n=t.selectedGridItem.index;t.addImage(Ut(t.imagesInfos[n].imageBuffer,e)),a.props.onClose()},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(xe.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},r.a.createElement(Ne.a,{id:"form-dialog-title"},"Image Resample"),r.a.createElement(ke.a,null,r.a.createElement(_e.a,null,"Please, enter the amount of levels for the quantization"),r.a.createElement("div",{className:"center",style:zt.inputsContainer},r.a.createElement(Ge.a,{error:!!this.state.errorMessage,label:this.state.errorMessage,type:"number",placeholder:String(this.state.levels),value:this.state.levels,onChange:this.onLevelsChange,margin:"dense",style:zt.input,InputProps:{startAdornment:r.a.createElement(Te.a,{position:"start"},"Levels: ")}}))),r.a.createElement(we.a,null,r.a.createElement(P.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),r.a.createElement(P.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}]),t}(r.a.Component),Wt=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(Bt))),qt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isDialogOpen:!1},a.openDialog=function(){var e=a.props,t=e.appStore,n=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?n("You first need to select an image",{variant:"warning"}):a.setState({isDialogOpen:!0})},a.closeDialog=function(){return a.setState({isDialogOpen:!1})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.openDialog},"Quantization"),r.a.createElement(Wt,{isOpen:this.state.isDialogOpen,onClose:this.closeDialog}))}}]),t}(r.a.Component),Yt=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(qt))),Xt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleToggle=function(){a.setState(function(e){return{open:!e.open}})},a.handleClose=function(e){a.anchorEl.contains(e.target)||a.setState({open:!1})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(P.a,{buttonRef:function(t){e.anchorEl=t},"aria-owns":this.state.open?"file-menu-list-grow":void 0,"aria-haspopup":"true",onClick:this.handleToggle,color:"inherit"},"Point Operations"),r.a.createElement($.a,{open:this.state.open,style:this.state.open?{}:{display:"none"},anchorEl:this.anchorEl,transition:!0,disablePortal:!0},r.a.createElement(K.a,{onClick:this.handleClose},r.a.createElement(Q.a,{onClickAway:this.handleClose},r.a.createElement(te.a,null,r.a.createElement(Lt,null),r.a.createElement(Xe,null),r.a.createElement(at,null),r.a.createElement(st,null),r.a.createElement(It,null),r.a.createElement(Dt,null),r.a.createElement(Gt,null),r.a.createElement(Ft,null),r.a.createElement(Yt,null))))))}}]),t}(r.a.Component),Qt=a(238),Jt=a.n(Qt),Kt=a(239),Zt=a.n(Kt),$t={inputsContainer:{flexWrap:"wrap"},input:{margin:"1rem"},center:{width:"100%",display:"flex",justifyContent:"center",marginTop:"1rem",marginBottom:"1rem"}},ea=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={degrees:0,degreesErrorMessage:"",rotateAndPaint:!1,interpolationMethod:a.props.interpolationMethods[0],selectedInterpolationMethodIndex:0},a.onDegreesChange=function(e){Number.parseFloat(e.target.value)?a.setState({degrees:Number.parseFloat(e.target.value),degreesErrorMessage:""}):a.setState({degrees:e.target.value,degreesErrorMessage:"Enter an amount of degrees"})},a.onRotateAndPaintChange=function(e){a.setState({rotateAndPaint:e.target.checked})},a.onInterpolationMethodChange=function(e){return a.setState({interpolationMethod:e.selectedItemName,selectedInterpolationMethodIndex:e.selectedItemIndex})},a.onSubmit=function(){var e=a.state,t=e.degrees,n=e.rotateAndPaint,r=e.interpolationMethod;a.props.onSubmit({degrees:t,rotateAndPaint:n,interpolationMethod:r})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(xe.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},r.a.createElement(Ne.a,{id:"form-dialog-title"},"Image rotation"),r.a.createElement(ke.a,null,r.a.createElement(_e.a,null,"Please, enter the rotation parameters"),r.a.createElement("div",{className:"center",style:$t.inputsContainer},r.a.createElement("div",{style:$t.center},r.a.createElement(Ge.a,{error:!!this.state.degreesErrorMessage,label:this.state.degreesErrorMessage,type:"number",placeholder:"0",value:this.state.degrees,onChange:this.onDegreesChange,margin:"dense",style:$t.input,InputProps:{startAdornment:r.a.createElement(Te.a,{position:"start"},"Degrees: ")}})),r.a.createElement(yt,{menuTitle:"Interpolation method",options:this.props.interpolationMethods,onItemSelection:this.onInterpolationMethodChange,isDisabled:this.state.rotateAndPaint,selectedItemIndex:this.state.selectedInterpolationMethodIndex}),r.a.createElement(Jt.a,{control:r.a.createElement(Zt.a,{checked:this.state.rotateAndPaint,onChange:this.onRotateAndPaintChange,value:"rotateAndPaint",color:"primary"}),label:"Rotate and paint"}))),r.a.createElement(we.a,null,r.a.createElement(P.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),r.a.createElement(P.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}]),t}(r.a.Component),ta=I.operations.interpolationMethods,aa=I.operations.imageRotation,na=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isDialogOpen:!1},a.openDialog=function(){var e=a.props,t=e.appStore,n=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?n("You first need to select an image",{variant:"warning"}):a.setState({isDialogOpen:!0})},a.closeDialog=function(){return a.setState({isDialogOpen:!1})},a.rotateCurrentImage=function(e){var t=e.degrees,n=e.rotateAndPaint,r=e.interpolationMethod,o=a.props.appStore,i=o.selectedGridItem.index;o.addImage(aa(o.imagesInfos[i].imageBuffer,t,ta[r],n))},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.openDialog},"Rotation"),r.a.createElement(ea,{isOpen:this.state.isDialogOpen,onClose:this.closeDialog,onSubmit:function(t){e.closeDialog(),e.rotateCurrentImage(t)},interpolationMethods:Object.keys(ta)}))}}]),t}(r.a.Component),ra=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(na))),oa={inputsContainer:{flexWrap:"wrap"},input:{margin:"1rem"},center:{width:"100%",display:"flex",justifyContent:"center",marginTop:"0.4rem",marginBottom:"0.4rem"}},ia=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={width:a.props.oldWidth,widthPercentage:100,widthErrorMessage:"",height:a.props.oldHeight,heightPercentage:100,heightErrorMessage:"",interpolationMethod:a.props.interpolationMethods[0],selectedInterpolationMethodIndex:0,formChanged:!1},a.onDimensionsChange=function(e,t,n,r,o,i,l){var s,c,u,h,p=Number.parseFloat(e.target.value);(l?(s=Math.floor(p/100*a.props[r]),c=p):c=100*(s=Math.round(p))/a.props[r],s<1||Number.isNaN(p))?a.setState((u={},Object(Qe.a)(u,n,l?"":e.target.value),Object(Qe.a)(u,o,l?e.target.value:""),Object(Qe.a)(u,i,t+" must be greater than 0"),Object(Qe.a)(u,"formChanged",!0),u)):a.setState((h={},Object(Qe.a)(h,n,l?s:p),Object(Qe.a)(h,o,l?p:c),Object(Qe.a)(h,i,""),Object(Qe.a)(h,"formChanged",!0),h))},a.onWidthChange=function(e){return a.onDimensionsChange(e,"Width","width","oldWidth","widthPercentage","widthErrorMessage",!1)},a.onHeightChange=function(e){return a.onDimensionsChange(e,"Height","height","oldHeight","heightPercentage","heightErrorMessage",!1)},a.onWidthPercentageChange=function(e){return a.onDimensionsChange(e,"Width","width","oldWidth","widthPercentage","widthErrorMessage",!0)},a.onHeightPercentageChange=function(e){return a.onDimensionsChange(e,"Height","height","oldHeight","heightPercentage","heightErrorMessage",!0)},a.onInterpolationMethodChange=function(e){return a.setState({interpolationMethod:e.selectedItemName,selectedInterpolationMethodIndex:e.selectedItemIndex})},a.onSubmit=function(){a.setState({formChanged:!1});var e=a.state,t=e.widthPercentage,n=e.heightPercentage,r=e.interpolationMethod;a.props.onSubmit({widthPercentage:t,heightPercentage:n,interpolationMethod:r})},a.onClose=function(){a.setState({formChanged:!1}),a.props.onClose()},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(xe.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},r.a.createElement(Ne.a,{id:"form-dialog-title"},"Image resizing"),r.a.createElement(ke.a,null,r.a.createElement(_e.a,null,"Please, enter the resizing parameters"),r.a.createElement("div",{style:oa.center},r.a.createElement(Ge.a,{error:!!this.state.widthErrorMessage,label:this.state.widthErrorMessage,type:"number",placeholder:String(this.props.oldWidth),value:this.state.width,onChange:this.onWidthChange,margin:"dense",style:oa.input,InputProps:{startAdornment:r.a.createElement(Te.a,{position:"start"},"Width: "),endAdornment:r.a.createElement(Te.a,{position:"end"},"px ")}}),r.a.createElement(Ge.a,{error:!!this.state.heightErrorMessage,label:this.state.heightErrorMessage,type:"number",placeholder:String(this.props.oldHeight),value:this.state.height,onChange:this.onHeightChange,margin:"dense",style:oa.input,InputProps:{startAdornment:r.a.createElement(Te.a,{position:"start"},"Height: "),endAdornment:r.a.createElement(Te.a,{position:"end"},"px ")}})),r.a.createElement("div",{className:"center",style:oa.inputsContainer},r.a.createElement("div",{style:oa.center},r.a.createElement(Ge.a,{error:!!this.state.widthErrorMessage,label:this.state.widthErrorMessage,type:"number",placeholder:"100",value:this.state.widthPercentage,onChange:this.onWidthPercentageChange,margin:"dense",style:oa.input,InputProps:{startAdornment:r.a.createElement(Te.a,{position:"start"},"Percentage:"," "),endAdornment:r.a.createElement(Te.a,{position:"end"},"% ")}}),r.a.createElement(Ge.a,{error:!!this.state.heightErrorMessage,label:this.state.heightErrorMessage,type:"number",placeholder:"100",value:this.state.heightPercentage,onChange:this.onHeightPercentageChange,margin:"dense",style:oa.input,InputProps:{startAdornment:r.a.createElement(Te.a,{position:"start"},"Percentage:"," "),endAdornment:r.a.createElement(Te.a,{position:"end"},"% ")}})),r.a.createElement(yt,{menuTitle:"Interpolation method",options:this.props.interpolationMethods,onItemSelection:this.onInterpolationMethodChange,selectedItemIndex:this.state.selectedInterpolationMethodIndex}))),r.a.createElement(we.a,null,r.a.createElement(P.a,{onClick:this.onClose,color:"primary"},"Cancel"),r.a.createElement(P.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.formChanged||e.oldHeight===t.height&&e.oldWidth===t.width?0===e.oldHeight&&0===e.oldWidth?{widthErrorMessage:"Select an image",heightErrorMessage:"Select an image",width:0,widthPercentage:0,height:0,heightPercentage:0}:null:{height:e.oldHeight,width:e.oldWidth,widthPercentage:100,heightPercentage:100,widthErrorMessage:e.oldWidth<=0?"Width must be greater than 0":"",heightErrorMessage:e.oldHeight<=0?"Height must be greater than 0":""}}}]),t}(r.a.Component),la=I.operations.interpolationMethods,sa=I.operations.imageResizing,ca=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isDialogOpen:!1},a.openDialog=function(){var e=a.props,t=e.appStore,n=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?n("You first need to select an image",{variant:"warning"}):a.setState({isDialogOpen:!0})},a.closeDialog=function(){return a.setState({isDialogOpen:!1})},a.resizeCurrentImage=function(e){var t=e.widthPercentage,n=e.heightPercentage,r=e.interpolationMethod,o=a.props.appStore,i=o.selectedGridItem.index;o.addImage(sa(o.imagesInfos[i].imageBuffer,t,n,la[r]))},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.appStore,a=t.selectedGridItem,n=a.type,o=a.index,i={width:0,height:0};if("image"===n&&o>=0){var l=t.imagesInfos[o].imageBuffer;i={width:l.width,height:l.height}}return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.openDialog},"Resize"),r.a.createElement(ia,{oldWidth:i.width,oldHeight:i.height,isOpen:this.state.isDialogOpen,onClose:this.closeDialog,onSubmit:function(t){e.closeDialog(),e.resizeCurrentImage(t)},interpolationMethods:Object.keys(la)}))}}]),t}(r.a.Component),ua=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(ca))),ha=I.operations.mirror,pa=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).currentImageVerticalMirror=function(){var e=a.props,t=e.appStore,n=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?n("You first need to select an image",{variant:"warning"}):t.addImage(ha.vertical(t.imagesInfos[i].imageBuffer))},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.currentImageVerticalMirror},"Vertical Mirror"))}}]),t}(r.a.Component),ma=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(pa))),da=I.operations.mirror,ga=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).currentImageHorizontalMirror=function(){var e=a.props,t=e.appStore,n=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?n("You first need to select an image",{variant:"warning"}):t.addImage(da.horizontal(t.imagesInfos[i].imageBuffer))},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.currentImageHorizontalMirror},"Horizontal Mirror"))}}]),t}(r.a.Component),fa=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(ga))),ba=I.operations.imageTranspose,va=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).transposeImage=function(){var e=a.props,t=e.appStore,n=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?n("You first need to select an image",{variant:"warning"}):t.addImage(ba(t.imagesInfos[i].imageBuffer))},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.transposeImage},"Image Transpose"))}}]),t}(r.a.Component),ya=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(va))),Oa=I.operations.imageResampling,Ea={inputsContainer:{flexWrap:"wrap",margin:"1rem"},input:{margin:"1rem"}},Ca=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={blockWidth:1,blockWidthErrorMessage:"",blockHeight:1,blockHeightErrorMessage:""},a.onChange=function(e,t,n,r,o){var i,l,s=Number.parseFloat(e.target.value);Je(s,r,o+1)?a.setState((i={},Object(Qe.a)(i,t,s),Object(Qe.a)(i,n,""),i)):a.setState((l={},Object(Qe.a)(l,t,e.target.value),Object(Qe.a)(l,n,"Required a number between ".concat(r," and ").concat(o)),l))},a.onBlockWidthChange=function(e){var t=a.props.appStore.selectedGridItem.index,n=a.props.appStore.imagesInfos[t].imageBuffer;a.onChange(e,"blockWidth","blockWidthErrorMessage",1,n.width)},a.onBlockHeightChange=function(e){var t=a.props.appStore.selectedGridItem.index,n=a.props.appStore.imagesInfos[t].imageBuffer;a.onChange(e,"blockHeight","blockHeightErrorMessage",1,n.height)},a.onSubmit=function(){var e=a.state,t=e.blockWidth,n=e.blockHeight,r=a.props.appStore,o=r.selectedGridItem.index;r.addImage(Oa(r.imagesInfos[o].imageBuffer,t,n)),a.props.onClose()},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(xe.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},r.a.createElement(Ne.a,{id:"form-dialog-title"},"Image Resample"),r.a.createElement(ke.a,null,r.a.createElement(_e.a,null,"Please, enter the pixels block width and height"),r.a.createElement("div",{className:"center",style:Ea.inputsContainer},r.a.createElement(Ge.a,{error:!!this.state.blockWidthErrorMessage,label:this.state.blockWidthErrorMessage,type:"number",placeholder:String(this.state.blockWidth),value:this.state.blockWidth,onChange:this.onBlockWidthChange,margin:"dense",style:Ea.input,InputProps:{startAdornment:r.a.createElement(Te.a,{position:"start"},"Width: ")}}),r.a.createElement(Ge.a,{error:!!this.state.blockHeightErrorMessage,label:this.state.blockHeightErrorMessage,type:"number",placeholder:String(this.state.blockHeight),value:this.state.blockHeight,onChange:this.onBlockHeightChange,margin:"dense",style:Ea.input,InputProps:{startAdornment:r.a.createElement(Te.a,{position:"start"},"Height: ")}}))),r.a.createElement(we.a,null,r.a.createElement(P.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),r.a.createElement(P.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}]),t}(r.a.Component),ja=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(Ca))),Ia=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isDialogOpen:!1},a.openDialog=function(){var e=a.props,t=e.appStore,n=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?n("You first need to select an image",{variant:"warning"}):a.setState({isDialogOpen:!0})},a.closeDialog=function(){return a.setState({isDialogOpen:!1})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.openDialog},"Image Resample"),r.a.createElement(ja,{isOpen:this.state.isDialogOpen,onClose:this.closeDialog}))}}]),t}(r.a.Component),xa=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(Ia))),Sa=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleToggle=function(){a.setState(function(e){return{open:!e.open}})},a.handleClose=function(e){a.anchorEl.contains(e.target)||a.setState({open:!1})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(P.a,{buttonRef:function(t){e.anchorEl=t},"aria-owns":this.state.open?"file-menu-list-grow":void 0,"aria-haspopup":"true",onClick:this.handleToggle,color:"inherit"},"Geometric Operations"),r.a.createElement($.a,{open:this.state.open,style:this.state.open?{}:{display:"none"},anchorEl:this.anchorEl,transition:!0,disablePortal:!0},r.a.createElement(K.a,{onClick:this.handleClose},r.a.createElement(Q.a,{onClickAway:this.handleClose},r.a.createElement(te.a,null,r.a.createElement(ra,null),r.a.createElement(ua,null),r.a.createElement(ma,null),r.a.createElement(fa,null),r.a.createElement(ya,null),r.a.createElement(xa,null))))))}}]),t}(r.a.Component),wa=a(240),Ma=a.n(wa),ka=a(241),Da=a.n(ka),_a=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.appStore,t=e.imageSelectionMehod,a=e.updateImageSelectionMehod;return r.a.createElement(Y.a,{style:{backgroundColor:"white",color:"#3f51b5",display:"flex",zIndex:"-1"}},r.a.createElement(P.a,{style:"selection"!==t?{margin:"0 0.5rem"}:{margin:"0 0.5rem",backgroundColor:"#3f51b5",color:"white"},onClick:function(){return a("selection")}},r.a.createElement(Ma.a,{style:{marginRight:"0.5rem"}}),"Select"),r.a.createElement(P.a,{style:"line"!==t?{margin:"0 0.5rem"}:{margin:"0 0.5rem",backgroundColor:"#3f51b5",color:"white"},onClick:function(){return a("line")}},r.a.createElement(Da.a,{style:{marginRight:"0.5rem"}}),"Line"))}}]),t}(r.a.Component),Pa=Object(ne.b)("appStore")(Object(ne.c)(_a)),Na=function(){return r.a.createElement(W.a,{position:"static"},r.a.createElement(Y.a,null,r.a.createElement(me,null),r.a.createElement(Ce,null),r.a.createElement(Xt,null),r.a.createElement(Sa,null)),r.a.createElement(Pa,null))},Aa=(a(614),function(e){var t=S(e.originCoords,e.endCoords);return r.a.createElement("div",{style:{width:"".concat(t.right-t.left,"px"),height:"".concat(t.bottom-t.top,"px"),position:"absolute",top:t.top+"px",left:t.left+"px",right:t.right+"px",bottom:t.bottom+"px",backgroundColor:"#99ccff",border:"1px solid #0000DD",opacity:"0.3"}})}),Ga=function(e){var t=e.originCoords,a=e.endCoords;return r.a.createElement("svg",{style:{position:"absolute",top:0,left:0,right:0,bottom:0},height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("line",{stroke:"#000",strokeWidth:"2",x1:t.x,y1:t.y,x2:a.x,y2:a.y}))},Ha=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={emphasizedValue:null,profileVisualizationData:[],channel:a.props.channel},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({profileVisualizationData:this.props.profileValues.map(function(e,t){return{x:t,y:e}})})}},{key:"render",value:function(){var e=this;return r.a.createElement(k.a,{margin:{top:50,left:70},onMouseLeave:function(){return e.setState({emphasizedValue:null})}},r.a.createElement(k.e,null),r.a.createElement(k.c,null),r.a.createElement(k.g,null),r.a.createElement(k.i,null),r.a.createElement(k.d,{onNearestX:function(t){return e.setState({emphasizedValue:t})},data:this.state.profileVisualizationData,color:this.state.channel}),this.state.emphasizedValue?r.a.createElement(k.b,{value:this.state.emphasizedValue,align:{horizontal:"auto",vertical:"top"},style:{fontSize:14},format:function(e){return[{title:"Pixel: "+e.x,value:"Value: "+e.y}]}}):null)}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.channel&&e.channel!==t.channel?{emphasizedValue:null,profileVisualizationData:e.profileValues.map(function(e,t){return{x:t,y:e}}),channel:e.channel}:null}}]),t}(n.Component),Ta=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={currentTab:0,currentChannel:Object.keys(a.props.info.profileValues)[0]},a.updateCurrentTab=function(e,t){return a.setState({currentTab:t})},a.updateCurrentChannel=function(e,t){return a.setState({currentChannel:t})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.currentTab,n=t.currentChannel,o=this.props.info,i=o.profileValues,l=o.firstDerivativeProfileValues;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(P.a,{style:0===a?{boxShadow:"0px 4px 6px -5px black"}:{},onClick:function(t){return e.updateCurrentTab(t,0)}},"Profile"),r.a.createElement(P.a,{style:1===a?{boxShadow:"0px 4px 6px -5px black"}:{},onClick:function(t){return e.updateCurrentTab(t,1)}},"First Derivative")),r.a.createElement("div",{style:{padding:"10px 0px 0px 0px",display:"flex",justifyContent:"center"}},Object.keys(i).map(function(t){return r.a.createElement(P.a,{style:n===t?{boxShadow:"0px 4px 6px -5px ".concat(t)}:{},onClick:function(a){return e.updateCurrentChannel(a,t)},key:t},t)})),r.a.createElement("div",{style:{width:"100%",height:"100%",maxHeight:"80%",display:"flex",justifyContent:"center",alignItems:"center"}},0===a&&r.a.createElement(Ha,{profileValues:i[n],channel:n}),1===a&&r.a.createElement(Ha,{profileValues:l[n],channel:n})))}}]),t}(r.a.Component),La=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).onMouseMoveOverImage=function(e,t){a.props.appStore.setCurrentPixel(e,t)},a.onImageRegionSelection=function(e){return function(t){var n=S(t.mouseDownCoords,t.mouseUpCoords),r=n.top,o=n.left,i={top:r,left:o,width:n.right-o,height:n.bottom-r};0!==i.width&&0!==i.height&&a.props.appStore.updateImageRegion(e,i)}},a.getImageOverlay=function(){switch(a.props.appStore.imageSelectionMehod){case"selection":return function(e){var t=e.originCoords,a=e.endCoords;return r.a.createElement(Aa,{originCoords:t,endCoords:a})};case"line":return function(e){var t=e.originCoords,a=e.endCoords;return r.a.createElement(Ga,{originCoords:t,endCoords:a})};default:throw new Error("Invalid option ".concat(a.props.appStore.imageSelectionMehod))}},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"app-container"},r.a.createElement(Na,null),r.a.createElement("main",{className:"main"},r.a.createElement("div",{className:"main__wrapper"},this.getGridComponent())),r.a.createElement("footer",{className:"footer"},this.getDisplayForImageDimensions(),this.getDisplayForPixelUnderMouse())))}},{key:"getGridComponent",value:function(){var e=this;return r.a.createElement(j.Grid,{layouts:this.props.appStore.gridLayouts,onLayoutChange:this.props.appStore.updateLayout},this.props.appStore.imagesInfos.map(function(t,a){return e.getImageGridItem(t,a)}),this.props.appStore.histogramInfos.map(function(t,a){return t.visible?e.getHistogramGridItem(t,a):null}).filter(function(e){return null!==e}),this.props.appStore.profilesInfos.map(function(t,a){return e.getProfileGridItem(t,a)}))}},{key:"getImageGridItem",value:function(e,t){var a=this,n=e.imageBuffer,o=e.key;return r.a.createElement(j.Item,{key:o,id:t,name:o,onDelete:this.props.appStore.removeImageInfo,onSelect:function(){return a.props.appStore.updateSelectedImageItem(t)},isSelected:this.props.appStore.isGridItemSelected("image",t)},r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"scrollable"},r.a.createElement(M,{rgbaImage:n,onMouseMove:this.onMouseMoveOverImage,onSelection:this.onImageRegionSelection(t)},this.getImageOverlay()))))}},{key:"getHistogramGridItem",value:function(e,t){var a=this,n=e.histogram,o=e.cHistogram,i=e.key;return r.a.createElement(j.Item,{key:i,id:t,name:i,onDelete:this.props.appStore.hideHistogram,onSelect:function(){return a.props.appStore.updateSelectedHistogramItem(t)},isSelected:this.props.appStore.isGridItemSelected("histogram",t)},r.a.createElement(z,{histogram:n,cHistogram:o}))}},{key:"getProfileGridItem",value:function(e,t){var a=this;return r.a.createElement(j.Item,{key:e.key,id:t,name:e.key,onDelete:this.props.appStore.removeProfile,onSelect:function(){return a.props.appStore.updateSelectedProfileItem(t)},isSelected:this.props.appStore.isGridItemSelected("line",t)},r.a.createElement(Ta,{info:e}))}},{key:"getDisplayForImageDimensions",value:function(){var e=this.props.appStore,t=e.pixelValue,a=e.selectedGridItem,n=e.imagesInfos,o=e.imageSelectionMehod,i=a.type,l=a.index;if("image"===i&&n[l]){var s="rgba(".concat(t.join(", "),")"),c="selection"===o?"width: "+n[l].region.width+", height: "+n[l].region.height:"width: "+n[l].imageBuffer.width+", height: "+n[l].imageBuffer.height;return r.a.createElement("div",{style:{display:"inline-block",margin:"0.5rem",padding:"0.5rem",borderRadius:"5px",border:"1px solid ".concat(s),boxShadow:"0 3px 10px -3px ".concat(s)}},c)}}},{key:"getDisplayForPixelUnderMouse",value:function(){var e=this.props.appStore,t=e.pixelValue,a=e.pixelCoords,n="rgba(".concat(t.join(", "),")");return r.a.createElement("div",{style:{display:"inline-block",margin:"0.5rem",padding:"0.5rem",borderRadius:"5px",border:"1px solid ".concat(n),boxShadow:"0 3px 10px -3px ".concat(n)}},"x: ",a.x,", y: ",a.y,",",r.a.createElement("span",{style:{display:"inline-block",width:"0.5rem",height:"0.5rem",margin:"0 0.5rem",backgroundColor:n,border:"1px solid black",borderRadius:"2px"}}),n)}}]),t}(n.Component),Ra=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(La))),Va=(a(615),a(616),a(617),a(20)),Fa=function(){var e={};return Object.keys(g.GRID_COLUMNS).forEach(function(t){return e[t]=[]}),e},Ua=function(e){return{i:e,x:0,y:1/0,w:g.DEFAULT_GRID_ITEM_COLS,h:g.DEFAULT_GRID_ITEM_ROWS,minW:g.DEFAULT_GRID_ITEM_COLS,minH:g.DEFAULT_GRID_ITEM_ROWS}},za=function(e,t){var a=t.map(Ua),n=Fa();return Object.keys(e).forEach(function(t){n[t]=e[t].concat(a)}),n},Ba=function(e,t){var a={};return Object.keys(e).forEach(function(n){a[n]=e[n].filter(function(e){var a=e.i;return!t.includes(a)})}),a},Wa=function e(){var t=this;Object(l.a)(this,e),this.imagesInfos=[],this.histogramInfos=[],this.profilesInfos=[],this.gridLayouts=Fa(),this.imageSelectionMehod="selection",this.selectedGridItem={type:"",index:-1},this.pixelCoords={x:0,y:0},this.pixelValue=[0,0,0,255],this._removedImagesCount=0,this._profilesCount=0,this.addImage=function(e){var a={top:0,left:0,width:e.width,height:e.height},n=new I.Histogram(e),r=new I.CumulativeHistogram(n.histogramValues),o="Image ".concat(t.imagesInfos.length+t._removedImagesCount),i="Histogram ".concat(t.histogramInfos.length+t._removedImagesCount);t.imagesInfos.push({key:o,imageBuffer:e,region:a}),t.histogramInfos.push({key:i,histogram:n,cHistogram:r,visible:!1}),t.gridLayouts=za(t.gridLayouts,[o])},this.addProfile=function(e,a){var n="Profile ".concat(t._profilesCount);t._profilesCount=t._profilesCount+1;var r="First derivative of "+n;t.profilesInfos.push({key:n,profileValues:e,firstDerivativeProfileValues:a}),t.gridLayouts=za(t.gridLayouts,[n,r])},this.removeImageInfo=function(e){var a=Ba(t.gridLayouts,[t.histogramInfos[e].key,t.imagesInfos[e].key]),n=Object(p.a)({},t.selectedGridItem);e<=n.index&&(n.index-=1,n.index<0&&(n.type="")),t.histogramInfos=t.histogramInfos.filter(function(t,a){return a!==e}),t.imagesInfos=t.imagesInfos.filter(function(t,a){return a!==e}),t.gridLayouts=a,t.selectedGridItem=n,t._removedImagesCount=t._removedImagesCount+1},this.updateImageRegion=function(e,a){return t.imagesInfos[e].region=a},this.hideHistogram=function(e){t.histogramInfos[e].visible=!1,t.gridLayouts=Ba(t.gridLayouts,[t.histogramInfos[e].key]),t.isGridItemSelected("histogram",e)&&(t.selectedGridItem={type:"",index:-1})},this.removeProfile=function(e){var a=Ba(t.gridLayouts,[t.profilesInfos[e].key]),n=Object(p.a)({},t.selectedGridItem);e<=n.index&&(n.index-=1,n.index<0&&(n.type="")),t.profilesInfos=t.profilesInfos.filter(function(t,a){return a!==e}),t.gridLayouts=a,t.selectedGridItem=n},this.showHistogramOfCurrentImage=function(){var e=t.selectedGridItem,a=e.type,n=e.index;"image"===a&&(t.histogramInfos[n].visible=!0,t.gridLayouts=za(t.gridLayouts,[t.histogramInfos[n].key]))},this.updateLayout=function(e,a){return requestAnimationFrame(function(){return t.gridLayouts=a})},this.updateSelectedImageItem=function(e){return t.selectedGridItem={type:"image",index:e}},this.updateSelectedHistogramItem=function(e){return t.selectedGridItem={type:"histogram",index:e}},this.updateSelectedProfileItem=function(e){return t.selectedGridItem={type:"line",index:e}},this.setCurrentPixel=function(e,a){t.pixelCoords=e,t.pixelValue=a},this.updateImageSelectionMehod=function(e){t.imageSelectionMehod=e},this.isGridItemSelected=function(e,a){return t.selectedGridItem.index===a&&t.selectedGridItem.type===e}};Object(Va.g)(Wa,{imagesInfos:Va.l,histogramInfos:Va.l,profilesInfos:Va.l,gridLayouts:Va.l,imageSelectionMehod:Va.l,selectedGridItem:Va.l,pixelCoords:Va.l,pixelValue:Va.l,addImage:Va.d,addProfile:Va.d,removeImageInfo:Va.d,updateImageRegion:Va.d,hideHistogram:Va.d,removeProfile:Va.d,showHistogramOfCurrentImage:Va.d,updateLayout:Va.d,updateSelectedImageItem:Va.d,updateSelectedHistogramItem:Va.d,updateSelectedProfileItem:Va.d,setCurrentPixel:Va.d,updateImageSelectionMehod:Va.d});var qa=new Wa,Ya=Object(ct.createMuiTheme)({palette:{common:{black:"#000",white:"#fff"},background:{paper:"#fff",default:"#fafafa"},primary:{light:"#7986cb",main:"#3f51b5",dark:"#303f9f",contrastText:"#fff"},secondary:{light:"#ff4081",main:"#f50057",dark:"#c51162",contrastText:"#fff"},error:{light:"#e57373",main:"#f44336",dark:"#d32f2f",contrastText:"#fff"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"}},typography:{useNextVariants:!0}});i.a.render(r.a.createElement("div",null,r.a.createElement(ct.MuiThemeProvider,{theme:Ya},r.a.createElement(ae.SnackbarProvider,{maxSnack:5,anchorOrigin:{vertical:"top",horizontal:"right"},action:[r.a.createElement(P.a,{color:"inherit",size:"small",key:Date.now()},"Dismiss")]},r.a.createElement(ne.a,{appStore:qa},r.a.createElement(Ra,null))))),document.getElementById("root"))}},[[245,1,2]]]);
//# sourceMappingURL=main.38cb1d3a.chunk.js.map