(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{241:function(e,t,a){e.exports=a(595)},254:function(e,t,a){},255:function(e,t,a){},591:function(e,t,a){},592:function(e,t,a){},595:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(28),i=a.n(o),l=a(3),s=a(7),c=a(6),u=a(4),h=a(5),m=a(55),p=a(105),g=a(148),d={GRID_COLUMNS:{lg:10,md:8,sm:6,xs:4,xxs:2},LAYOUT_BREAKPOINTS:{lg:1200,md:996,sm:768,xs:480,xxs:0},DEFAULT_GRID_ITEM_COLS:2,DEFAULT_GRID_ITEM_ROWS:4,GRID_ITEM_ROW_HEIGHT:50},f=Object(g.WidthProvider)(g.Responsive),b=function(e){var t=e.children,a=Object(p.a)(e,["children"]);return r.a.createElement(f,Object.assign({cols:d.GRID_COLUMNS,breakpoints:d.LAYOUT_BREAKPOINTS,rowHeight:d.GRID_ITEM_ROW_HEIGHT},a),t)};b.defaultProps=Object(m.a)({layouts:{}},f.defaultProps);var v=b,E=(a(254),function(e){var t=e.onDelete,a=Object(p.a)(e,["onDelete"]);return r.a.createElement("button",Object.assign({className:"DeleteButton",onClick:t,disabled:!t,"aria-label":"delete"},a),"\xd7")});E.defaultProps={onDelete:null};var y=E,O=(a(255),function(e){e.preventDefault(),e.stopPropagation()}),C=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isDraggable:!1},a.onDragHandleMouseDown=function(){return a.setState({isDraggable:!0})},a.onDragHandleMouseUp=function(){return a.state.isDraggable&&a.setState({isDraggable:!1})},a.onDragStart=function(e){a.state.isDraggable&&(O(e),a.props.onMouseDown&&a.props.onMouseDown(e))},a.onDragEnd=function(e){a.state.isDraggable&&(O(e),a.props.onMouseUp&&a.props.onMouseUp(e))},a.onDelete=function(){return a.props.onDelete(a.props.id)},a.onSelect=function(){return a.props.onSelect(a.props.id)},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mouseup",this.onDragHandleMouseUp)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mouseup",this.onDragHandleMouseUp)}},{key:"render",value:function(){var e=this.props,t=e.children,a=e.className,n=e.style,o=e.name,i=e.onSelect,l=e.onDelete,s=e.isSelected;return r.a.createElement("div",{className:"Item ".concat(a," ").concat(s&&"is-selected"),style:n,draggable:this.state.isDraggable,onDragStart:this.onDragStart,onMouseUp:this.onDragEnd,onFocus:i?this.onSelect:null,tabIndex:"0"},r.a.createElement("div",{onMouseDown:this.onDragHandleMouseDown,className:"Item__toolbar"},r.a.createElement(y,{onMouseDown:O,onDelete:l?this.onDelete:null}),r.a.createElement("span",{className:"Item__name"},o)),r.a.createElement("div",{className:"Item__childrenContainer"},t))}}]),t}(r.a.Component);C.defaultProps={name:"",onDelete:null,onSelect:null,onDeselect:null,isSelected:!1};var I={Grid:v,Item:C},j=function(){function e(t,a,n){var r=this;Object(l.a)(this,e),this.toImageData=function(){return e.toImageData(r)},this.copy=function(){return new e(r.width,r.height,new Uint8ClampedArray(r.pixels))},this.getPixel=function(e){var t=e.x,a=e.y;t=Math.max(0,Math.min(r.width-1,t)),a=Math.max(0,Math.min(r.height-1,a));var n=r._mapMatrixPositionToArray(t,a);return[r.pixels[n],r.pixels[n+1],r.pixels[n+2],r.pixels[n+3]]},this._mapMatrixPositionToArray=function(t,a){return(a*r.width+t)*e.NUM_CHANNELS},this._width=t,this._height=a,this._pixels=n}return Object(s.a)(e,null,[{key:"fromImageData",value:function(t){return new e(t.width,t.height,t.data)}},{key:"toImageData",value:function(e){var t=e.width,a=e.height,n=e.pixels,r=new ImageData(t,a);return r.data.set(n),r}}]),Object(s.a)(e,[{key:"pixels",get:function(){return this._pixels}},{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}}]),e}();function S(e,t){return function(e,t){var a=t.top,n=t.left;return{x:e.clientX-Math.ceil(n),y:e.clientY-Math.ceil(a)}}(e,t.getBoundingClientRect())}function w(e,t){return{left:Math.min(e.x,t.x),right:Math.max(e.x,t.x),top:Math.min(e.y,t.y),bottom:Math.max(e.y,t.y)}}j.NUM_CHANNELS=4;var x=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isImageLoading:!1,isMouseDown:!1,mouseDownOriginCoordinates:{x:-1,y:-1},currentMouseCoordinates:{x:-1,y:-1}},a.onMouseMove=function(e){if(a.props.onMouseMove&&!a.state.isImageLoading){var t=S(e,a.refs.canvas),n=a.props.rgbaImage.getPixel(t);a.state.isMouseDown&&a.setState({currentMouseCoordinates:t}),a.props.onMouseMove(t,n)}},a.onMouseDown=function(e){var t=S(e,a.refs.canvas);a.setState({mouseDownOriginCoordinates:t,isMouseDown:!0,currentMouseCoordinates:t})},a.onMouseUp=function(){var e=a.state,t=e.isMouseDown,n=e.mouseDownOriginCoordinates,r=e.currentMouseCoordinates;if(t)if(n.x===r.x&&n.y===r.y){a.setState({isMouseDown:!1,mouseDownOriginCoordinates:{x:-1,y:-1},currentMouseCoordinates:{x:-1,y:-1}});var o=a.props.rgbaImage,i=o.width,l=o.height;a.props.onSelection({mouseDownCoords:{x:0,y:0},mouseUpCoords:{x:i,y:l}})}else a.setState({isMouseDown:!1}),a.props.onSelection({mouseDownCoords:n,mouseUpCoords:r})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.refs.canvas,t=e.getContext("2d");e.width=this.props.rgbaImage.width,e.height=this.props.rgbaImage.height,t.putImageData(this.props.rgbaImage.toImageData(),0,0),this.setState({isImageLoading:!1})}},{key:"render",value:function(){var e=this.state,t=e.mouseDownOriginCoordinates,a=e.currentMouseCoordinates;return r.a.createElement("div",{style:{position:"relative"},onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseMove:this.onMouseMove},r.a.createElement("canvas",{ref:"canvas",style:{display:"block",backgroundColor:"#eee",maxHeight:"100%"}}),this.props.children({originCoords:t,endCoords:a}))}}]),t}(n.Component);x.defaultProps={onMouseMove:null};var k=x,M=(a(154),a(30)),D=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={emphasizedValue:null,histogramVisualizationData:[]},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({histogramVisualizationData:this.props.histogram.map(function(e,t){return{x0:t,x:t+1,y:e}})})}},{key:"render",value:function(){var e=this;return r.a.createElement(M.a,{margin:{top:50,left:70},onMouseLeave:function(){return e.setState({emphasizedValue:null})}},r.a.createElement(M.e,null),r.a.createElement(M.c,null),r.a.createElement(M.g,null),r.a.createElement(M.i,null),r.a.createElement(M.f,{onNearestX:function(t){return e.setState({emphasizedValue:t})},data:this.state.histogramVisualizationData}),this.state.emphasizedValue?r.a.createElement(M.b,{value:this.state.emphasizedValue,align:{horizontal:"auto",vertical:"top"},style:{fontSize:14},format:function(e){return[{title:"Value: "+e.x0,value:"Count: "+e.y}]}}):null)}}]),t}(n.Component),N=a(12),A=a.n(N),P=a(228),H=a.n(P),L=a(230),G=a.n(L),_=a(37),T=a.n(_),U=a(229),F=a.n(U),R=a(52),V=a.n(R),B=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={currentTab:0},a.updateCurrentTab=function(e,t){return a.setState({currentTab:t})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.currentTab,a=this.props.histogram,n=a.histogramValues,o=a.histogramInfo,i=this.props.cHistogram.counts;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(A.a,{style:0===t?{boxShadow:"0px 4px 6px -5px black"}:{},onClick:function(t){return e.updateCurrentTab(t,0)}},"Hist."),r.a.createElement(A.a,{style:1===t?{boxShadow:"0px 4px 6px -5px black"}:{},onClick:function(t){return e.updateCurrentTab(t,1)}},"Cumul."),r.a.createElement(A.a,{style:2===t?{boxShadow:"0px 4px 6px -5px black"}:{},onClick:function(t){return e.updateCurrentTab(t,2)}},"Info.")),r.a.createElement("div",{style:{width:"100%",height:"100%",maxHeight:"80%",display:"flex",justifyContent:"center",alignItems:"center"}},0===t&&r.a.createElement(D,{histogram:n}),1===t&&r.a.createElement(D,{histogram:i}),2===t&&r.a.createElement("div",{className:"scrollable",style:{maxWidth:"500px"}},r.a.createElement(H.a,null,r.a.createElement(F.a,null,r.a.createElement(V.a,null,r.a.createElement(T.a,null,"Variable"),r.a.createElement(T.a,{numeric:!0},"Value"))),r.a.createElement(G.a,null,r.a.createElement(V.a,null,r.a.createElement(T.a,null,"Count"),r.a.createElement(T.a,{numeric:!0},o.count)),r.a.createElement(V.a,null,r.a.createElement(T.a,null,"Brightness"),r.a.createElement(T.a,{numeric:!0},o.mean.toFixed(3))),r.a.createElement(V.a,null,r.a.createElement(T.a,null,"Contrast"),r.a.createElement(T.a,{numeric:!0},o.stdDev.toFixed(3))),r.a.createElement(V.a,null,r.a.createElement(T.a,null,"Minimum value"),r.a.createElement(T.a,{numeric:!0},o.minValue)),r.a.createElement(V.a,null,r.a.createElement(T.a,null,"Maximum value"),r.a.createElement(T.a,{numeric:!0},o.maxValue)),r.a.createElement(V.a,null,r.a.createElement(T.a,null,"Mode"),r.a.createElement(T.a,{numeric:!0},o.mode.value)),r.a.createElement(V.a,null,r.a.createElement(T.a,null,"Entropy"),r.a.createElement(T.a,{numeric:!0},o.entropy)))))))}}]),t}(r.a.Component),W=a(239),z=a.n(W),q=a(104),Y=a.n(q),X=a(50),Q=a.n(X),J=a(42),K=a.n(J),Z=a(54),$=a.n(Z),ee=a(51),te=a.n(ee),ae=a(11),ne=a(8),re=a(16),oe=a.n(re),ie=a(69),le=(Object(ie.a)(Error),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,"Error loading image with src = ".concat(e)))).name="ImageLoadException",a.src=e,a}return Object(h.a)(t,e),t}(Object(ie.a)(Error))),se=function(e){function t(e,a){var n;return Object(l.a)(this,t),(n=Object(c.a)(this,Object(u.a)(t).call(this,a))).name=e,n}return Object(h.a)(t,e),t}(Object(ie.a)(Error));function ce(e){var t=URL.createObjectURL(e);return function(e){var t=new Image;return t.src=e,new Promise(function(a,n){t.onload=function(){return a(t)},t.onerror=function(){return n(new le(e))}})}(t).finally(function(){return URL.revokeObjectURL(t)})}var ue=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onImageFileInputted=function(e){var t=a.props,n=t.enqueueSnackbar,r=t.appStore,o=e.target.files;1===o.length&&o[0]?ce(o[0]).then(function(e){var t=document.createElement("canvas"),n=t.getContext("2d");t.width=e.naturalWidth,t.height=e.naturalHeight,n.drawImage(e,0,0);var o=n.getImageData(0,0,t.width,t.height),i=j.fromImageData(o);r.addImage(i),a.refs.fileInputForm.reset()}).catch(function(){n("Could not load image",{variant:"error"})}):n("Error reading image file",{variant:"error"})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"image-input"},r.a.createElement(oe.a,null,"Open")),r.a.createElement("form",{ref:"fileInputForm"},r.a.createElement("input",{hidden:!0,id:"image-input",type:"file",accept:"image/*",name:"image-input",onChange:this.onImageFileInputted})))}}]),t}(r.a.Component),he=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(ue))),me=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).downloadCurrentImage=function(){var e=a.props,t=e.enqueueSnackbar,n=e.appStore,r=n.selectedGridItem,o=r.type,i=r.index;if("image"!==o||i<0)t("You first need to select an image",{variant:"warning"});else{var l=n.imagesInfos[i],s=l.region,c=s.left,u=s.top,h=s.width,m=s.height,p=l.imageBuffer.toImageData(),g=document.createElement("canvas"),d=g.getContext("2d");g.width=p.width,g.height=p.height,d.putImageData(p,0,0,c,u,h,m),g.toBlob(function(e){var t=URL.createObjectURL(e);a.refs.downloadAnchor.href=t,a.refs.downloadAnchor.click(),URL.revokeObjectURL(t)},null,1)}},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.downloadCurrentImage},"Download"),r.a.createElement("div",null,r.a.createElement("a",{ref:"downloadAnchor",href:"#download",id:"download",hidden:!0,download:!0},"This should not be visible. It is only used when downloading images")))}}]),t}(r.a.Component),pe=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(me))),ge=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleToggle=function(){a.setState(function(e){return{open:!e.open}})},a.handleClose=function(e){a.anchorEl.contains(e.target)||a.setState({open:!1})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.open;return r.a.createElement("div",null,r.a.createElement(A.a,{buttonRef:function(t){e.anchorEl=t},"aria-owns":t?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:this.handleToggle,color:"inherit"},"File"),r.a.createElement($.a,{open:t,style:this.state.open?{}:{display:"none"},anchorEl:this.anchorEl,transition:!0,disablePortal:!0},r.a.createElement(K.a,{onClick:this.handleClose},r.a.createElement(Q.a,{onClickAway:this.handleClose},r.a.createElement(te.a,null,r.a.createElement(he,null),r.a.createElement(pe,null))))))}}]),t}(r.a.Component),de=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onClick=function(){var e=a.props,t=e.appStore,n=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?n("You first need to select an image",{variant:"warning"}):a.props.appStore.showHistogramOfCurrentImage()},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.onClick},"Histogram"))}}]),t}(r.a.Component),fe=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(de))),be=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.top,n=void 0===a?0:a,r=t.left,o=void 0===r?0:r,i=t.height,l=void 0===i?e.height:i,s=t.width,c=void 0===s?e.width:s,u=new Uint8ClampedArray(l*c*j.NUM_CHANNELS),h=0,m=0;m<l;m+=1)for(var p=0;p<c;p+=1){var g=e.getPixel({x:o+p,y:n+m});u[h]=g[0],u[h+1]=g[1],u[h+2]=g[2],u[h+3]=g[3],h+=j.NUM_CHANNELS}return new j(c,l,u)},ve=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).cropCurrentImage=function(){var e=a.props,t=e.enqueueSnackbar,n=e.appStore,r=n.imageSelectionMehod,o=n.selectedGridItem,i=o.type,l=o.index;if("image"!==i||l<0)t("You first need to select an image",{variant:"warning"});else if("selection"!==r)t("You need to select a part of the image with the selection tool",{variant:"error"});else{var s=n.addImage,c=n.imagesInfos;s(be(c[l].imageBuffer,c[l].region))}},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.cropCurrentImage},"Crop"))}}]),t}(r.a.Component),Ee=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(ve))),ye=function(e,t){for(var a=[],n=e.x,r=t.x,o=e.y,i=t.y,l=Math.abs(r-n),s=Math.abs(i-o),c=n<r?1:-1,u=o<i?1:-1,h=l-s;a.push({x:n,y:o}),!(Math.abs(n-r)<1e-4&&Math.abs(o-i)<1e-4);){var m=2*h;m>-s&&(h-=s,n+=c),m<l&&(h+=l,o+=u)}return a},Oe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).getProfile=function(){var e=a.props,t=e.enqueueSnackbar,n=e.appStore,r=n.imageSelectionMehod,o=n.selectedGridItem,i=o.type,l=o.index;if("image"!==i||l<0)t("You first need to select an image",{variant:"warning"});else if("line"!==r)t("You need to select a line inside the image with the profile tool",{variant:"error"});else{for(var s=n.imagesInfos[l].region,c=s.left,u=s.top,h=s.width,m=s.height,p=ye({x:c,y:u},{x:c+h,y:u+m}),g=n.imagesInfos[l].imageBuffer,d=p.map(function(e){return g.getPixel({x:e.x,y:e.y})[0]}),f=[],b=1;b<d.length-1;++b)f.push((d[b+1]-d[b-1])/2);n.addProfile(d,f)}},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.getProfile},"Profile"))}}]),t}(r.a.Component),Ce=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(Oe))),Ie=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleToggle=function(){a.setState(function(e){return{open:!e.open}})},a.handleClose=function(e){a.anchorEl.contains(e.target)||a.setState({open:!1})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.open;return r.a.createElement("div",null,r.a.createElement(A.a,{buttonRef:function(t){e.anchorEl=t},"aria-owns":t?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:this.handleToggle,color:"inherit"},"Image"),r.a.createElement($.a,{open:t,style:this.state.open?{}:{display:"none"},anchorEl:this.anchorEl,transition:!0,disablePortal:!0},r.a.createElement(K.a,{onClick:this.handleClose},r.a.createElement(Q.a,{onClickAway:this.handleClose},r.a.createElement(te.a,null,r.a.createElement(fe,null),r.a.createElement(Ee,null),r.a.createElement(Ce,null))))))}}]),t}(r.a.Component),je=a(240),Se=a(32),we=a.n(Se),xe=a(36),ke=a.n(xe),Me=a(34),De=a.n(Me),Ne=a(35),Ae=a.n(Ne),Pe=a(33),He=a.n(Pe),Le=a(29),Ge=a.n(Le),_e=a(26),Te=a.n(_e),Ue=a(147),Fe=a.n(Ue),Re=a(231),Ve=a.n(Re),Be=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onYChange=function(e){var t=Number.parseFloat(e.target.value);a.props.onChange(Object(m.a)({},a.props.coordinate,{y:Number.isFinite(t)?t:""}))},a.onXChange=function(e){var t=Number.parseFloat(e.target.value);a.props.onChange(Object(m.a)({},a.props.coordinate,{x:Number.isFinite(t)?t:""}))},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{display:"flex",justifyContent:"center",width:"100%"}},r.a.createElement(Ge.a,{type:"number",placeholder:"0",value:this.props.coordinate.x,onChange:this.onXChange,margin:"dense",InputProps:{startAdornment:r.a.createElement(Te.a,{position:"start"},"x: ")}}),r.a.createElement(Ge.a,{type:"number",placeholder:"0",value:this.props.coordinate.y,onChange:this.onYChange,margin:"dense",InputProps:{startAdornment:r.a.createElement(Te.a,{position:"start"},"y: ")}}),r.a.createElement(Fe.a,{"aria-label":"Delete",onClick:this.props.onDelete},r.a.createElement(Ve.a,null)))}}]),t}(r.a.Component),We=function(e,t){for(var a=e.copy(),n=0;n<a.pixels.length;n+=j.NUM_CHANNELS){var r=t[a.pixels[n]];a.pixels[n]=r,a.pixels[n+1]=r,a.pixels[n+2]=r}return a},ze=function(e,t){if(t.length<2)throw new se("LinearTransformationException","Linear transformation needs at least 2 points");for(var a=0;a<t.length-1;++a){if(t[a].x>t[a+1].x)throw new se("LinearTransformationException","Points must be ordered according to the x coordinate value");if(t[a].x===t[a+1].x)throw new se("LinearTransformationException","Different points should not have the same x coordinate value")}if(t[0].x>0)throw new se("LinearTransformationException","X coordinate value of the first point should be less or equal to 0");if(t[t.length-1].x<255)throw new se("LinearTransformationException","X coordinate value of the last point should be greater or equal to 255");for(var n=[],r=1;r<t.length;++r){var o={};o.slope=(t[r].y-t[r-1].y)/(t[r].x-t[r-1].x),o.yIntercept=t[r].y-o.slope*t[r].x,o.frontier=t[r].x,n.push(o)}for(var i=[],l=0,s=0;s<256;++s){s>n[l].frontier&&l++;var c=Math.round(n[l].slope*s+n[l].yIntercept);i.push(Math.min(Math.max(c,0),255))}return We(e,i)},qe={center:{width:"100%",display:"flex",justifyContent:"center",marginTop:"1rem",marginBottom:"1rem"}},Ye=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={coords:[{x:0,y:0},{x:255,y:255}]},a.onDataChange=function(e){return function(t){a.setState(function(a){return{coords:a.coords.map(function(a,n){return n===e?t:a})}})}},a.onDataDelete=function(e){return function(){a.setState(function(t){return{coords:t.coords.filter(function(t,a){return a!==e})}})}},a.addNewCoordinate=function(){var e=a.state.coords.length<1?{x:0,y:0}:a.state.coords.slice(-1)[0];a.setState(function(t){return{coords:[].concat(Object(je.a)(t.coords),[e])}})},a.onSubmit=function(){var e=a.props,t=e.appStore,n=e.onClose,r=t.selectedGridItem.index;t.addImage(ze(t.imagesInfos[r].imageBuffer,a.state.coords)),n()},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(we.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},r.a.createElement(He.a,{id:"form-dialog-title"},"Linear Sections"),r.a.createElement(De.a,null,r.a.createElement(Ae.a,null,"Please, enter the points to define the begin and end of each linear section"),r.a.createElement("div",{style:qe.center},r.a.createElement(M.h,{width:300,height:300},r.a.createElement(M.c,null),r.a.createElement(M.d,{data:this.state.coords,xDomain:[0,255],yDomain:[0,255]}),r.a.createElement(M.g,null),r.a.createElement(M.i,null))),r.a.createElement("div",{style:qe.center},r.a.createElement(A.a,{onClick:this.addNewCoordinate,fullWidth:!0,variant:"contained",color:"primary"},"Add new coordinate")),r.a.createElement("div",null,this.state.coords.map(function(t,a){return r.a.createElement(Be,{key:a,coordinate:t,onChange:e.onDataChange(a),onDelete:e.onDataDelete(a)})}))),r.a.createElement(ke.a,null,r.a.createElement(A.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),r.a.createElement(A.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}]),t}(r.a.Component),Xe=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(Ye))),Qe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isDialogOpen:!1},a.openDialog=function(){var e=a.props,t=e.appStore,n=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?n("You first need to select an image",{variant:"warning"}):a.setState({isDialogOpen:!0})},a.closeDialog=function(){return a.setState({isDialogOpen:!1})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.openDialog},"Linear Transformation"),r.a.createElement(Xe,{isOpen:this.state.isDialogOpen,onClose:this.closeDialog}))}}]),t}(r.a.Component),Je=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(Qe))),Ke=a(20),Ze=function(e,t,a){return e>=t&&e<a},$e=function(e,t,a,n,r){for(var o=r/a,i=n-o*t,l=[],s=0;s<256;++s){var c=Math.round(o*s+i);l.push(Math.min(Math.max(c,0),255))}return We(e,l)},et={inputsContainer:{flexWrap:"wrap",margin:"1rem"},input:{margin:"1rem"}},tt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={brightness:0,brightnessErrorMessage:"",contrast:0,contrastErrorMessage:"",formChanged:!1},a.onChange=function(e,t,n,r,o){var i,l,s=Number.parseFloat(e.target.value);Ze(s,r,o+1)?a.setState((i={},Object(Ke.a)(i,t,s),Object(Ke.a)(i,n,""),Object(Ke.a)(i,"formChanged",!0),i)):a.setState((l={},Object(Ke.a)(l,t,e.target.value),Object(Ke.a)(l,n,"Required a number between ".concat(r," and ").concat(o)),Object(Ke.a)(l,"formChanged",!0),l))},a.onBrightnessChange=function(e){return a.onChange(e,"brightness","brightnessErrorMessage",0,255)},a.onContrastChange=function(e){return a.onChange(e,"contrast","contrastErrorMessage",0,128)},a.onSubmit=function(){var e=a.state,t=e.brightness,n=e.contrast,r=a.props.appStore,o=r.selectedGridItem.index;r.addImage($e(r.imagesInfos[o].imageBuffer,r.histogramInfos[o].histogram.histogramInfo.mean,r.histogramInfos[o].histogram.histogramInfo.stdDev,t,n)),a.onClose()},a.onClose=function(){a.setState({formChanged:!1}),a.props.onClose()},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(we.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},r.a.createElement(He.a,{id:"form-dialog-title"},"Brightness and Contrast Ajustment"),r.a.createElement(De.a,null,r.a.createElement(Ae.a,null,"Please, enter the brightness and contrast for the new image"),r.a.createElement("div",{className:"center",style:et.inputsContainer},r.a.createElement(Ge.a,{error:!!this.state.brightnessErrorMessage,label:this.state.brightnessErrorMessage,type:"number",placeholder:String(this.state.brightness),value:this.state.brightness,onChange:this.onBrightnessChange,margin:"dense",style:et.input,InputProps:{startAdornment:r.a.createElement(Te.a,{position:"start"},"Brightness: ")}}),r.a.createElement(Ge.a,{error:!!this.state.contrastErrorMessage,label:this.state.contrastErrorMessage,type:"number",placeholder:String(this.state.contrast),value:this.state.contrast,onChange:this.onContrastChange,margin:"dense",style:et.input,InputProps:{startAdornment:r.a.createElement(Te.a,{position:"start"},"Contrast: ")}}))),r.a.createElement(ke.a,null,r.a.createElement(A.a,{onClick:this.onClose,color:"primary"},"Cancel"),r.a.createElement(A.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.appStore,n=a.histogramInfos,r=a.selectedGridItem,o=t.brightness,i=t.contrast;if(r.index>=0){var l=n[r.index].histogram.histogramInfo;o=l.mean,i=l.stdDev}return t.formChanged?null:{brightness:+o.toFixed(2),contrast:+i.toFixed(2)}}}]),t}(r.a.Component),at=Object(ne.b)("appStore")(Object(ne.c)(tt)),nt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isDialogOpen:!1},a.openDialog=function(){var e=a.props,t=e.appStore,n=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?n("You first need to select an image",{variant:"warning"}):a.setState({isDialogOpen:!0})},a.closeDialog=function(){return a.setState({isDialogOpen:!1})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.openDialog},"Brightness And Contrast"),r.a.createElement(at,{isOpen:this.state.isDialogOpen,onClose:this.closeDialog}))}}]),t}(r.a.Component),rt=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(nt))),ot=function(e,t){if(t<0)throw new se("GammaCorrectionException","Invalid gamma value, gamma should be equal or greater than 0.");for(var a=[],n=0;n<256;++n)a[n]=255*Math.pow(n/255,t);return We(e,a)},it={inputsContainer:{flexWrap:"wrap",margin:"1rem"},input:{margin:"1rem"}},lt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={gamma:0,gammaErrorMessage:""},a.onChange=function(e,t,n,r){var o,i,l=Number.parseFloat(e.target.value);Ze(l,0,Number.POSITIVE_INFINITY)?a.setState((o={},Object(Ke.a)(o,t,l),Object(Ke.a)(o,n,""),o)):a.setState((i={},Object(Ke.a)(i,t,e.target.value),Object(Ke.a)(i,n,r),i))},a.onGammaChange=function(e){return a.onChange(e,"gamma","gammaErrorMessage","Required a value equal or greater than 0")},a.onSubmit=function(){var e=a.props.appStore,t=e.selectedGridItem.index;e.addImage(ot(e.imagesInfos[t].imageBuffer,a.state.gamma)),a.props.onClose()},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(we.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},r.a.createElement(He.a,{id:"form-dialog-title"},"Gamma correction"),r.a.createElement(De.a,null,r.a.createElement(Ae.a,null,"Please, enter the gamma value for the new image"),r.a.createElement("div",{className:"center",style:it.inputsContainer},r.a.createElement(Ge.a,{error:!!this.state.gammaErrorMessage,label:this.state.gammaErrorMessage,type:"number",placeholder:"0",value:this.state.gamma,onChange:this.onGammaChange,margin:"dense",style:it.input,InputProps:{startAdornment:r.a.createElement(Te.a,{position:"start"},"Gamma: ")}}))),r.a.createElement(ke.a,null,r.a.createElement(A.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),r.a.createElement(A.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}]),t}(r.a.Component),st=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(lt))),ct=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isDialogOpen:!1},a.openDialog=function(){var e=a.props,t=e.appStore,n=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?n("You first need to select an image",{variant:"warning"}):a.setState({isDialogOpen:!0})},a.closeDialog=function(){return a.setState({isDialogOpen:!1})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.openDialog},"Gamma Correction"),r.a.createElement(st,{isOpen:this.state.isDialogOpen,onClose:this.closeDialog}))}}]),t}(r.a.Component),ut=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(ct))),ht=a(60),mt=a(146),pt=a.n(mt),gt=a(145),dt=a.n(gt),ft=a(232),bt=a.n(ft),vt=a(233),Et=a.n(vt),yt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={anchorEl:null,selectedIndex:a.props.selectedItemIndex},a.handleClickListItem=function(e){a.setState({anchorEl:e.currentTarget})},a.handleMenuItemClick=function(e,t,n){a.setState({selectedIndex:t,anchorEl:null}),e.selectedItemName=n,e.selectedItemIndex=t,a.props.onItemSelection(e)},a.handleClose=function(){a.setState({anchorEl:null})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state.anchorEl;return r.a.createElement("div",{className:t.root},r.a.createElement(pt.a,{component:"nav"},r.a.createElement(dt.a,{disabled:this.props.isDisabled,button:!0,"aria-haspopup":"true","aria-label":this.props.menuTitle,onClick:this.handleClickListItem},r.a.createElement(bt.a,{primary:this.props.menuTitle,secondary:this.props.options.length>0?this.props.options[this.state.selectedIndex]:"None"}))),this.props.options.length>0?r.a.createElement(Et.a,{anchorEl:a,open:Boolean(a),onClose:this.handleClose},this.props.options.map(function(t,a){return r.a.createElement(oe.a,{key:t,selected:a===e.state.selectedIndex,onClick:function(n){return e.handleMenuItemClick(n,a,t)}},t)})):null)}}]),t}(r.a.Component),Ot=Object(ht.withStyles)(function(e){return{root:{backgroundColor:e.palette.background.paper}}})(yt),Ct=function(e,t){if(e.height!==t.height||e.width!==t.width)throw new se("ImagesDifferenceException","Images should have the same width and height");for(var a=e.copy(),n=0;n<a.pixels.length;n+=j.NUM_CHANNELS){var r=Math.abs(a.pixels[n]-t.pixels[n]);a.pixels[n]=r,a.pixels[n+1]=r,a.pixels[n+2]=r}return a},It=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={imgName:""},a.onChange=function(e){return a.setState({imgName:e.selectedItemName})},a.onSubmit=function(){var e=a.state.imgName,t=a.props,n=t.appStore,r=t.enqueueSnackbar,o=n.selectedGridItem.index,i=n.imagesInfos.find(function(t){return t.key===e}),l=i&&i.imageBuffer;void 0===l?r("Couldn't find an image with the selected name (".concat(e,")"),{variant:"error"}):n.addImage(Ct(n.imagesInfos[o].imageBuffer,l)),a.props.onClose()},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.appStore.imagesInfos.map(function(e){return e.key});return r.a.createElement(we.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},r.a.createElement(He.a,{id:"form-dialog-title"},"Image Difference"),r.a.createElement(De.a,null,r.a.createElement(Ae.a,null,"Please, select the image to perform the difference to the current image"),r.a.createElement("div",{className:"center"},r.a.createElement(Ot,{menuTitle:"Selected image",options:e,onItemSelection:this.onChange}))),r.a.createElement(ke.a,null,r.a.createElement(A.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),r.a.createElement(A.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}]),t}(r.a.Component),jt=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(It))),St=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isDialogOpen:!1},a.openDialog=function(){var e=a.props,t=e.appStore,n=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?n("You first need to select an image",{variant:"warning"}):a.setState({isDialogOpen:!0})},a.closeDialog=function(){return a.setState({isDialogOpen:!1})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.openDialog},"Image Difference"),r.a.createElement(jt,{isOpen:this.state.isDialogOpen,onClose:this.closeDialog}))}}]),t}(r.a.Component),wt=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(St))),xt=a(234),kt=function(e,t,a,n){var r;try{r=Ct(e,t)}catch(l){throw"ImagesDifferenceException"===l.name?new se("ChangesDetectionException",l.message):l}for(var o=e.copy(),i=0;i<o.pixels.length;i+=j.NUM_CHANNELS)r.pixels[i]>a&&(o.pixels[i]=n.r,o.pixels[i+1]=n.g,o.pixels[i+2]=n.b);return o},Mt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={imgName:"",rgbaColor:{r:255,g:0,b:0},threshold:""},a.onImgNameChange=function(e){return a.setState({imgName:e.selectedItemName})},a.onThresholdChange=function(e){var t=Number.parseFloat(e.target.value);a.setState({threshold:Number.isFinite(t)?t:""})},a.handleChangeComplete=function(e){return a.setState({rgbaColor:e.rgb})},a.onSubmit=function(){var e=a.state,t=e.imgName,n=e.rgbaColor,r=e.threshold;a.applyChangesDetection({imgName:t,rgbaColor:n,threshold:""===r?0:r}),a.props.onClose()},a.applyChangesDetection=function(e){var t=e.imgName,n=e.rgbaColor,r=e.threshold,o=a.props,i=o.appStore,l=o.enqueueSnackbar,s=i.selectedGridItem.index,c=i.imagesInfos.find(function(e){return e.key===t}),u=c&&c.imageBuffer;void 0===u?l("Couldn't find an image with the selected name (".concat(t,")"),{variant:"error"}):i.addImage(kt(i.imagesInfos[s].imageBuffer,u,r,n))},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.appStore.imagesInfos.map(function(e){return e.key});return r.a.createElement(we.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},r.a.createElement(He.a,{id:"form-dialog-title"},"Changes Detection"),r.a.createElement(De.a,null,r.a.createElement(Ae.a,null,"Please, select the image to detect the changes between them. Also enter the color which will be used to highlight the differences and the difference threshold, value that will determine what is considered a difference and what not"),r.a.createElement("div",{className:"center",style:{justifyContent:"space-around"}},r.a.createElement(Ot,{menuTitle:"Selected image",options:e,onItemSelection:this.onImgNameChange}),r.a.createElement(Ge.a,{placeholder:"0",type:"number",value:this.state.threshold,onChange:this.onThresholdChange,margin:"dense",InputProps:{startAdornment:r.a.createElement(Te.a,{position:"start"},"Threshold: ")}})),r.a.createElement("div",{className:"center",style:{marginTop:"1rem"}},r.a.createElement(xt.ChromePicker,{color:this.state.rgbaColor,onChangeComplete:this.handleChangeComplete}))),r.a.createElement(ke.a,null,r.a.createElement(A.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),r.a.createElement(A.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}]),t}(r.a.Component),Dt=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(Mt))),Nt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isDialogOpen:!1},a.openDialog=function(){var e=a.props,t=e.appStore,n=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?n("You first need to select an image",{variant:"warning"}):a.setState({isDialogOpen:!0})},a.closeDialog=function(){return a.setState({isDialogOpen:!1})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.openDialog},"Changes Detection"),r.a.createElement(Dt,{isOpen:this.state.isDialogOpen,onClose:this.closeDialog}))}}]),t}(r.a.Component),At=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(Nt))),Pt=function(e,t,a){for(var n=t.counts.map(function(e){return e/t.count}),r=a.counts.map(function(e){return e/a.count}),o=[],i=0;i<256;++i){for(var l=255;l>=0&&n[i]<=r[l];)l-=1;o.push(l)}return We(e,o)},Ht=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={imgName:""},a.onChange=function(e){return a.setState({imgName:e.selectedItemName})},a.onSubmit=function(){var e=a.state.imgName,t=a.props,n=t.appStore,r=t.enqueueSnackbar,o=n.selectedGridItem.index,i=n.imagesInfos.findIndex(function(t){return t.key===e});i<0||i>n.imagesInfos.length?r("Couldn't find an image with the selected name (".concat(e,")"),{variant:"error"}):n.addImage(Pt(n.imagesInfos[o].imageBuffer,n.histogramInfos[o].cHistogram,n.histogramInfos[i].cHistogram)),a.props.onClose()},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.appStore.imagesInfos.map(function(e){return e.key});return r.a.createElement(we.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},r.a.createElement(He.a,{id:"form-dialog-title"},"Histogram Specificacion"),r.a.createElement(De.a,null,r.a.createElement(Ae.a,null,"Please, select the image with the histogram to perform the histogram specification to the current image"),r.a.createElement("div",{className:"center"},r.a.createElement(Ot,{menuTitle:"Selected image",options:e,onItemSelection:this.onChange}))),r.a.createElement(ke.a,null,r.a.createElement(A.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),r.a.createElement(A.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}]),t}(r.a.Component),Lt=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(Ht))),Gt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isDialogOpen:!1},a.openDialog=function(){var e=a.props,t=e.appStore,n=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?n("You first need to select an image",{variant:"warning"}):a.setState({isDialogOpen:!0})},a.closeDialog=function(){return a.setState({isDialogOpen:!1})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.openDialog},"Histogram Specification"),r.a.createElement(Lt,{isOpen:this.state.isDialogOpen,onClose:this.closeDialog}))}}]),t}(r.a.Component),_t=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(Gt))),Tt=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ut,a=e.copy(),n=0;n<a.pixels.length;n+=j.NUM_CHANNELS){var r=t(e.pixels[n],e.pixels[n+1],e.pixels[n+2]);a.pixels[n]=r,a.pixels[n+1]=r,a.pixels[n+2]=r}return a},Ut=function(e,t,a){return Math.round(.222*e+.707*t+.071*a)},Ft=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).currentImageToGrayscale=function(){var e=a.props,t=e.enqueueSnackbar,n=e.appStore,r=a.props.appStore.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?t("You first need to select an image",{variant:"warning"}):n.addImage(Tt(n.imagesInfos[i].imageBuffer))},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.currentImageToGrayscale},"To Grayscale"))}}]),t}(r.a.Component),Rt=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(Ft))),Vt=function(e,t){for(var a=t.count/256,n=[],r=0;r<256;++r)n.push(Math.max(0,Math.round(t.counts[r]/a)-1));return We(e,n)},Bt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).currentImageHistogramEqualization=function(){var e=a.props,t=e.enqueueSnackbar,n=e.appStore,r=n.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?t("You first need to select an image",{variant:"warning"}):n.addImage(Vt(n.imagesInfos[i].imageBuffer,n.histogramInfos[i].cHistogram))},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.currentImageHistogramEqualization},"Histogram Equalization"))}}]),t}(r.a.Component),Wt=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(Bt))),zt=function(e,t){if(t<0||t>8)throw new se("QuantizationException","Invalid amount of levels, the amount should be equal or greater than 0 and equal or less than 8.");if(!Number.isInteger(t))throw new se("QuantizationException","Invalid amount of levels, the value should be an integer number.");if(8===t)return e;var a=[0];if(t>1)for(var n=256/(Math.pow(2,t)-1);a[a.length-1]+n<255;)a.push(a[a.length-1]+n);a=a.map(function(e){return Math.round(e)}),t>0&&a.push(255);for(var r,o,i,l=[],s=0;s<256;++s){o=Number.POSITIVE_INFINITY;for(var c=0;c<a.length;++c)(r=Math.abs(s-a[c]))<o&&(i=c,o=r);l.push(a[i])}return We(e,l)},qt={inputsContainer:{flexWrap:"wrap",margin:"1rem"},input:{margin:"1rem"}},Yt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={levels:8,errorMessage:""},a.onChange=function(e,t,n,r,o){var i,l,s=Number.parseFloat(e.target.value);Ze(s,r,o+1)?a.setState((i={},Object(Ke.a)(i,t,s),Object(Ke.a)(i,n,""),i)):a.setState((l={},Object(Ke.a)(l,t,e.target.value),Object(Ke.a)(l,n,"Required a number between ".concat(r," and ").concat(o)),l))},a.onLevelsChange=function(e){return a.onChange(e,"levels","errorMessage",0,8)},a.onSubmit=function(){var e=a.state.levels,t=a.props.appStore,n=t.selectedGridItem.index;t.addImage(zt(t.imagesInfos[n].imageBuffer,e)),a.props.onClose()},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(we.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},r.a.createElement(He.a,{id:"form-dialog-title"},"Image Resample"),r.a.createElement(De.a,null,r.a.createElement(Ae.a,null,"Please, enter the amount of levels for the quantization"),r.a.createElement("div",{className:"center",style:qt.inputsContainer},r.a.createElement(Ge.a,{error:!!this.state.errorMessage,label:this.state.errorMessage,type:"number",placeholder:String(this.state.levels),value:this.state.levels,onChange:this.onLevelsChange,margin:"dense",style:qt.input,InputProps:{startAdornment:r.a.createElement(Te.a,{position:"start"},"Levels: ")}}))),r.a.createElement(ke.a,null,r.a.createElement(A.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),r.a.createElement(A.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}]),t}(r.a.Component),Xt=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(Yt))),Qt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isDialogOpen:!1},a.openDialog=function(){var e=a.props,t=e.appStore,n=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?n("You first need to select an image",{variant:"warning"}):a.setState({isDialogOpen:!0})},a.closeDialog=function(){return a.setState({isDialogOpen:!1})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.openDialog},"Quantization"),r.a.createElement(Xt,{isOpen:this.state.isDialogOpen,onClose:this.closeDialog}))}}]),t}(r.a.Component),Jt=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(Qt))),Kt=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleToggle=function(){a.setState(function(e){return{open:!e.open}})},a.handleClose=function(e){a.anchorEl.contains(e.target)||a.setState({open:!1})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(A.a,{buttonRef:function(t){e.anchorEl=t},"aria-owns":this.state.open?"file-menu-list-grow":void 0,"aria-haspopup":"true",onClick:this.handleToggle,color:"inherit"},"Point Operations"),r.a.createElement($.a,{open:this.state.open,style:this.state.open?{}:{display:"none"},anchorEl:this.anchorEl,transition:!0,disablePortal:!0},r.a.createElement(K.a,{onClick:this.handleClose},r.a.createElement(Q.a,{onClickAway:this.handleClose},r.a.createElement(te.a,null,r.a.createElement(Rt,null),r.a.createElement(Je,null),r.a.createElement(rt,null),r.a.createElement(ut,null),r.a.createElement(wt,null),r.a.createElement(At,null),r.a.createElement(_t,null),r.a.createElement(Wt,null),r.a.createElement(Jt,null))))))}}]),t}(r.a.Component),Zt=function(e,t,a,n){var r=e.width,o=e.height,i=t*(Math.PI/180),l=function(e,t){return{x:Math.cos(i)*e-Math.sin(i)*t,y:Math.sin(i)*e+Math.cos(i)*t}},s=ea(r,o,l);if(n)return $t(e,l,s);for(var c,u,h,m,p=new Uint8ClampedArray(s.width*s.height*j.NUM_CHANNELS),g=0,d=0;d<s.height;++d)for(var f=0;f<s.width;++f)h=f+s.minXCoord,m=d+s.minYCoord,c={x:Math.cos(-i)*h-Math.sin(-i)*m,y:Math.sin(-i)*h+Math.cos(-i)*m},Ze(Math.round(c.x),0,r+1)&&Ze(Math.round(c.y),0,o+1)?(u=Math.round(a(c.x,c.y,e)),p[g]=u,p[g+1]=u,p[g+2]=u,p[g+3]=255):(p[g]=0,p[g+1]=0,p[g+2]=0,p[g+3]=0),g+=j.NUM_CHANNELS;return new j(s.width,s.height,p)},$t=function(e,t,a){for(var n,r,o,i=new Uint8ClampedArray(a.width*a.height*j.NUM_CHANNELS),l=0;l<e.height;++l)for(var s=0;s<e.width;++s)n=t(s,l),r=(Math.round(n.y-a.minYCoord)*a.width+Math.round(n.x-a.minXCoord))*j.NUM_CHANNELS,o=e.getPixel({x:s,y:l}),i[r]=o[0],i[r+1]=o[1],i[r+2]=o[2],i[r+3]=o[3];return new j(a.width,a.height,i)},ea=function(e,t,a){var n=a(0,0),r=a(0,t),o=a(e,0),i=a(e,t),l=Math.max(n.x,r.x,o.x,i.x),s=Math.min(n.x,r.x,o.x,i.x),c=Math.max(n.y,r.y,o.y,i.y),u=Math.min(n.y,r.y,o.y,i.y);return{width:Math.floor(Math.abs(l-s)),height:Math.floor(Math.abs(c-u)),minXCoord:s,minYCoord:u}},ta=a(70),aa=a.n(ta),na=a(235),ra=a.n(na),oa=a(236),ia=a.n(oa),la={inputsContainer:{flexWrap:"wrap"},input:{margin:"1rem"},center:{width:"100%",display:"flex",justifyContent:"center",marginTop:"1rem",marginBottom:"1rem"}},sa=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={degrees:0,degreesErrorMessage:"",rotateAndPaint:!1,interpolationMethod:a.props.interpolationMethods[0],selectedInterpolationMethodIndex:0},a.onDegreesChange=function(e){Number.parseFloat(e.target.value)?a.setState({degrees:Number.parseFloat(e.target.value),degreesErrorMessage:""}):a.setState({degrees:e.target.value,degreesErrorMessage:"Enter an amount of degrees"})},a.onRotateAndPaintChange=function(e){a.setState({rotateAndPaint:e.target.checked})},a.onInterpolationMethodChange=function(e){return a.setState({interpolationMethod:e.selectedItemName,selectedInterpolationMethodIndex:e.selectedItemIndex})},a.onSubmit=function(){var e=a.state,t=e.degrees,n=e.rotateAndPaint,r=e.interpolationMethod;a.props.onSubmit({degrees:t,rotateAndPaint:n,interpolationMethod:r})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(we.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},r.a.createElement(He.a,{id:"form-dialog-title"},"Image rotation"),r.a.createElement(De.a,null,r.a.createElement(Ae.a,null,"Please, enter the rotation parameters"),r.a.createElement("div",{className:"center",style:la.inputsContainer},r.a.createElement("div",{style:la.center},r.a.createElement(Ge.a,{error:!!this.state.degreesErrorMessage,label:this.state.degreesErrorMessage,type:"number",placeholder:"0",value:this.state.degrees,onChange:this.onDegreesChange,margin:"dense",style:la.input,InputProps:{startAdornment:r.a.createElement(Te.a,{position:"start"},"Degrees: ")}})),r.a.createElement(Ot,{menuTitle:"Interpolation method",options:this.props.interpolationMethods,onItemSelection:this.onInterpolationMethodChange,isDisabled:this.state.rotateAndPaint,selectedItemIndex:this.state.selectedInterpolationMethodIndex}),r.a.createElement(ra.a,{control:r.a.createElement(ia.a,{checked:this.state.rotateAndPaint,onChange:this.onRotateAndPaintChange,value:"rotateAndPaint",color:"primary"}),label:"Rotate and paint"}))),r.a.createElement(ke.a,null,r.a.createElement(A.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),r.a.createElement(A.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}]),t}(r.a.Component),ca=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isDialogOpen:!1},a.openDialog=function(){var e=a.props,t=e.appStore,n=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?n("You first need to select an image",{variant:"warning"}):a.setState({isDialogOpen:!0})},a.closeDialog=function(){return a.setState({isDialogOpen:!1})},a.rotateCurrentImage=function(e){var t=e.degrees,n=e.rotateAndPaint,r=e.interpolationMethod,o=a.props.appStore,i=o.selectedGridItem.index;o.addImage(Zt(o.imagesInfos[i].imageBuffer,t,aa.a[r],n))},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.openDialog},"Rotation"),r.a.createElement(sa,{isOpen:this.state.isDialogOpen,onClose:this.closeDialog,onSubmit:function(t){e.closeDialog(),e.rotateCurrentImage(t)},interpolationMethods:Object.keys(aa.a)}))}}]),t}(r.a.Component),ua=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(ca))),ha=function(e,t,a,n){var r=e.width,o=e.height,i=t/100,l=a/100,s=Math.floor(r*i),c=Math.floor(o*l);if(s<1)throw new se("ImageResizingException","Width of the resized image is too small.");if(c<1)throw new se("ImageResizingException","Height of the resized image is too small.");for(var u,h,m=new Uint8ClampedArray(s*c*j.NUM_CHANNELS),p=0,g=0;g<c;++g)for(var d=0;d<s;++d)u={x:d/i,y:g/l},h=Math.round(n(u.x,u.y,e)),m[p]=h,m[p+1]=h,m[p+2]=h,m[p+3]=255,p+=j.NUM_CHANNELS;return new j(s,c,m)},ma={inputsContainer:{flexWrap:"wrap"},input:{margin:"1rem"},center:{width:"100%",display:"flex",justifyContent:"center",marginTop:"0.4rem",marginBottom:"0.4rem"}},pa=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={width:a.props.oldWidth,widthPercentage:100,widthErrorMessage:"",height:a.props.oldHeight,heightPercentage:100,heightErrorMessage:"",interpolationMethod:a.props.interpolationMethods[0],selectedInterpolationMethodIndex:0,formChanged:!1},a.onDimensionsChange=function(e,t,n,r,o,i,l){var s,c,u,h,m=Number.parseFloat(e.target.value);(l?(s=Math.floor(m/100*a.props[r]),c=m):c=100*(s=Math.round(m))/a.props[r],s<1||Number.isNaN(m))?a.setState((u={},Object(Ke.a)(u,n,l?"":e.target.value),Object(Ke.a)(u,o,l?e.target.value:""),Object(Ke.a)(u,i,t+" must be greater than 0"),Object(Ke.a)(u,"formChanged",!0),u)):a.setState((h={},Object(Ke.a)(h,n,l?s:m),Object(Ke.a)(h,o,l?m:c),Object(Ke.a)(h,i,""),Object(Ke.a)(h,"formChanged",!0),h))},a.onWidthChange=function(e){return a.onDimensionsChange(e,"Width","width","oldWidth","widthPercentage","widthErrorMessage",!1)},a.onHeightChange=function(e){return a.onDimensionsChange(e,"Height","height","oldHeight","heightPercentage","heightErrorMessage",!1)},a.onWidthPercentageChange=function(e){return a.onDimensionsChange(e,"Width","width","oldWidth","widthPercentage","widthErrorMessage",!0)},a.onHeightPercentageChange=function(e){return a.onDimensionsChange(e,"Height","height","oldHeight","heightPercentage","heightErrorMessage",!0)},a.onInterpolationMethodChange=function(e){return a.setState({interpolationMethod:e.selectedItemName,selectedInterpolationMethodIndex:e.selectedItemIndex})},a.onSubmit=function(){a.setState({formChanged:!1});var e=a.state,t=e.widthPercentage,n=e.heightPercentage,r=e.interpolationMethod;a.props.onSubmit({widthPercentage:t,heightPercentage:n,interpolationMethod:r})},a.onClose=function(){a.setState({formChanged:!1}),a.props.onClose()},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(we.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},r.a.createElement(He.a,{id:"form-dialog-title"},"Image resizing"),r.a.createElement(De.a,null,r.a.createElement(Ae.a,null,"Please, enter the resizing parameters"),r.a.createElement("div",{style:ma.center},r.a.createElement(Ge.a,{error:!!this.state.widthErrorMessage,label:this.state.widthErrorMessage,type:"number",placeholder:String(this.props.oldWidth),value:this.state.width,onChange:this.onWidthChange,margin:"dense",style:ma.input,InputProps:{startAdornment:r.a.createElement(Te.a,{position:"start"},"Width: "),endAdornment:r.a.createElement(Te.a,{position:"end"},"px ")}}),r.a.createElement(Ge.a,{error:!!this.state.heightErrorMessage,label:this.state.heightErrorMessage,type:"number",placeholder:String(this.props.oldHeight),value:this.state.height,onChange:this.onHeightChange,margin:"dense",style:ma.input,InputProps:{startAdornment:r.a.createElement(Te.a,{position:"start"},"Height: "),endAdornment:r.a.createElement(Te.a,{position:"end"},"px ")}})),r.a.createElement("div",{className:"center",style:ma.inputsContainer},r.a.createElement("div",{style:ma.center},r.a.createElement(Ge.a,{error:!!this.state.widthErrorMessage,label:this.state.widthErrorMessage,type:"number",placeholder:"100",value:this.state.widthPercentage,onChange:this.onWidthPercentageChange,margin:"dense",style:ma.input,InputProps:{startAdornment:r.a.createElement(Te.a,{position:"start"},"Percentage:"," "),endAdornment:r.a.createElement(Te.a,{position:"end"},"% ")}}),r.a.createElement(Ge.a,{error:!!this.state.heightErrorMessage,label:this.state.heightErrorMessage,type:"number",placeholder:"100",value:this.state.heightPercentage,onChange:this.onHeightPercentageChange,margin:"dense",style:ma.input,InputProps:{startAdornment:r.a.createElement(Te.a,{position:"start"},"Percentage:"," "),endAdornment:r.a.createElement(Te.a,{position:"end"},"% ")}})),r.a.createElement(Ot,{menuTitle:"Interpolation method",options:this.props.interpolationMethods,onItemSelection:this.onInterpolationMethodChange,selectedItemIndex:this.state.selectedInterpolationMethodIndex}))),r.a.createElement(ke.a,null,r.a.createElement(A.a,{onClick:this.onClose,color:"primary"},"Cancel"),r.a.createElement(A.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return t.formChanged||e.oldHeight===t.height&&e.oldWidth===t.width?0===e.oldHeight&&0===e.oldWidth?{widthErrorMessage:"Select an image",heightErrorMessage:"Select an image",width:0,widthPercentage:0,height:0,heightPercentage:0}:null:{height:e.oldHeight,width:e.oldWidth,widthPercentage:100,heightPercentage:100,widthErrorMessage:e.oldWidth<=0?"Width must be greater than 0":"",heightErrorMessage:e.oldHeight<=0?"Height must be greater than 0":""}}}]),t}(r.a.Component),ga=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isDialogOpen:!1},a.openDialog=function(){var e=a.props,t=e.appStore,n=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?n("You first need to select an image",{variant:"warning"}):a.setState({isDialogOpen:!0})},a.closeDialog=function(){return a.setState({isDialogOpen:!1})},a.resizeCurrentImage=function(e){var t=e.widthPercentage,n=e.heightPercentage,r=e.interpolationMethod,o=a.props.appStore,i=o.selectedGridItem.index;o.addImage(ha(o.imagesInfos[i].imageBuffer,t,n,aa.a[r]))},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.appStore,a=t.selectedGridItem,n=a.type,o=a.index,i={width:0,height:0};if("image"===n&&o>=0){var l=t.imagesInfos[o].imageBuffer;i={width:l.width,height:l.height}}return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.openDialog},"Resize"),r.a.createElement(pa,{oldWidth:i.width,oldHeight:i.height,isOpen:this.state.isDialogOpen,onClose:this.closeDialog,onSubmit:function(t){e.closeDialog(),e.resizeCurrentImage(t)},interpolationMethods:Object.keys(aa.a)}))}}]),t}(r.a.Component),da=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(ga))),fa=function(e){for(var t,a=e.width,n=e.height,r=new Uint8ClampedArray(a*n*j.NUM_CHANNELS),o=0,i=n-1;i>=0;--i)for(var l=0;l<a;++l)t=e.getPixel({x:l,y:i}),r[o]=t[0],r[o+1]=t[1],r[o+2]=t[2],r[o+3]=t[3],o+=j.NUM_CHANNELS;return new j(a,n,r)},ba=function(e){for(var t,a=e.width,n=e.height,r=new Uint8ClampedArray(a*n*j.NUM_CHANNELS),o=0,i=0;i<n;++i)for(var l=a-1;l>=0;--l)t=e.getPixel({x:l,y:i}),r[o]=t[0],r[o+1]=t[1],r[o+2]=t[2],r[o+3]=t[3],o+=j.NUM_CHANNELS;return new j(a,n,r)},va=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).currentImageVerticalMirror=function(){var e=a.props,t=e.appStore,n=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?n("You first need to select an image",{variant:"warning"}):t.addImage(ba(t.imagesInfos[i].imageBuffer))},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.currentImageVerticalMirror},"Vertical Mirror"))}}]),t}(r.a.Component),Ea=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(va))),ya=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).currentImageHorizontalMirror=function(){var e=a.props,t=e.appStore,n=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?n("You first need to select an image",{variant:"warning"}):t.addImage(fa(t.imagesInfos[i].imageBuffer))},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.currentImageHorizontalMirror},"Horizontal Mirror"))}}]),t}(r.a.Component),Oa=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(ya))),Ca=function(e){for(var t,a=e.width,n=e.height,r=new Uint8ClampedArray(n*a*j.NUM_CHANNELS),o=0,i=0;i<a;++i)for(var l=0;l<n;++l)t=e.getPixel({x:i,y:l}),r[o]=t[0],r[o+1]=t[1],r[o+2]=t[2],r[o+3]=t[3],o+=j.NUM_CHANNELS;return new j(n,a,r)},Ia=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).transposeImage=function(){var e=a.props,t=e.appStore,n=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?n("You first need to select an image",{variant:"warning"}):t.addImage(Ca(t.imagesInfos[i].imageBuffer))},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.transposeImage},"Image Transpose"))}}]),t}(r.a.Component),ja=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(Ia))),Sa=function(e,t,a){if(t<1||t>e.width)throw new se("ImageResamplingException","Invalid block width value, block width should be greater than 0 and less or equal than image width.");if(a<1||a>e.height)throw new se("ImageResamplingException","Invalid block height value, block height should be greater than 0 and less or equal than image height.");for(var n,r=new Uint8ClampedArray(e.width*e.height*j.NUM_CHANNELS),o=0;o+a<=e.height;){for(n=0;n+t<=e.width;)wa(e,r,n,o,n+t,o+a),n+=t;wa(e,r,n,o,e.width,o+a),o+=a}for(n=0;n+t<=e.width;)wa(e,r,n,o,n+t,e.height),n+=t;return wa(e,r,n,o,e.width,e.height),new j(e.width,e.height,r)},wa=function(e,t,a,n,r,o){for(var i,l,s=0,c=0,u=n;u<o;++u)for(var h=a;h<r;++h)s+=e.getPixel({x:h,y:u})[0],c+=1;i=s/c;for(var m=n;m<o;++m)for(var p=a;p<r;++p)t[l=(m*e.width+p)*j.NUM_CHANNELS]=i,t[l+1]=i,t[l+2]=i,t[l+3]=255},xa={inputsContainer:{flexWrap:"wrap",margin:"1rem"},input:{margin:"1rem"}},ka=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={blockWidth:1,blockWidthErrorMessage:"",blockHeight:1,blockHeightErrorMessage:""},a.onChange=function(e,t,n,r,o){var i,l,s=Number.parseFloat(e.target.value);Ze(s,r,o+1)?a.setState((i={},Object(Ke.a)(i,t,s),Object(Ke.a)(i,n,""),i)):a.setState((l={},Object(Ke.a)(l,t,e.target.value),Object(Ke.a)(l,n,"Required a number between ".concat(r," and ").concat(o)),l))},a.onBlockWidthChange=function(e){var t=a.props.appStore.selectedGridItem.index,n=a.props.appStore.imagesInfos[t].imageBuffer;a.onChange(e,"blockWidth","blockWidthErrorMessage",1,n.width)},a.onBlockHeightChange=function(e){var t=a.props.appStore.selectedGridItem.index,n=a.props.appStore.imagesInfos[t].imageBuffer;a.onChange(e,"blockHeight","blockHeightErrorMessage",1,n.height)},a.onSubmit=function(){var e=a.state,t=e.blockWidth,n=e.blockHeight,r=a.props.appStore,o=r.selectedGridItem.index;r.addImage(Sa(r.imagesInfos[o].imageBuffer,t,n)),a.props.onClose()},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(we.a,{open:this.props.isOpen,onClose:this.props.onClose,scroll:"body","aria-labelledby":"form-dialog-title"},r.a.createElement(He.a,{id:"form-dialog-title"},"Image Resample"),r.a.createElement(De.a,null,r.a.createElement(Ae.a,null,"Please, enter the pixels block width and height"),r.a.createElement("div",{className:"center",style:xa.inputsContainer},r.a.createElement(Ge.a,{error:!!this.state.blockWidthErrorMessage,label:this.state.blockWidthErrorMessage,type:"number",placeholder:String(this.state.blockWidth),value:this.state.blockWidth,onChange:this.onBlockWidthChange,margin:"dense",style:xa.input,InputProps:{startAdornment:r.a.createElement(Te.a,{position:"start"},"Width: ")}}),r.a.createElement(Ge.a,{error:!!this.state.blockHeightErrorMessage,label:this.state.blockHeightErrorMessage,type:"number",placeholder:String(this.state.blockHeight),value:this.state.blockHeight,onChange:this.onBlockHeightChange,margin:"dense",style:xa.input,InputProps:{startAdornment:r.a.createElement(Te.a,{position:"start"},"Height: ")}}))),r.a.createElement(ke.a,null,r.a.createElement(A.a,{onClick:this.props.onClose,color:"primary"},"Cancel"),r.a.createElement(A.a,{onClick:this.onSubmit,color:"primary"},"Submit")))}}]),t}(r.a.Component),Ma=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(ka))),Da=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isDialogOpen:!1},a.openDialog=function(){var e=a.props,t=e.appStore,n=e.enqueueSnackbar,r=t.selectedGridItem,o=r.type,i=r.index;"image"!==o||i<0?n("You first need to select an image",{variant:"warning"}):a.setState({isDialogOpen:!0})},a.closeDialog=function(){return a.setState({isDialogOpen:!1})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{onClick:this.openDialog},"Image Resample"),r.a.createElement(Ma,{isOpen:this.state.isDialogOpen,onClose:this.closeDialog}))}}]),t}(r.a.Component),Na=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(Da))),Aa=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1},a.handleToggle=function(){a.setState(function(e){return{open:!e.open}})},a.handleClose=function(e){a.anchorEl.contains(e.target)||a.setState({open:!1})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(A.a,{buttonRef:function(t){e.anchorEl=t},"aria-owns":this.state.open?"file-menu-list-grow":void 0,"aria-haspopup":"true",onClick:this.handleToggle,color:"inherit"},"Geometric Operations"),r.a.createElement($.a,{open:this.state.open,style:this.state.open?{}:{display:"none"},anchorEl:this.anchorEl,transition:!0,disablePortal:!0},r.a.createElement(K.a,{onClick:this.handleClose},r.a.createElement(Q.a,{onClickAway:this.handleClose},r.a.createElement(te.a,null,r.a.createElement(ua,null),r.a.createElement(da,null),r.a.createElement(Ea,null),r.a.createElement(Oa,null),r.a.createElement(ja,null),r.a.createElement(Na,null))))))}}]),t}(r.a.Component),Pa=a(237),Ha=a.n(Pa),La=a(238),Ga=a.n(La),_a=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.appStore,t=e.imageSelectionMehod,a=e.updateImageSelectionMehod;return r.a.createElement(Y.a,{style:{backgroundColor:"white",color:"#3f51b5",display:"flex",zIndex:"-1"}},r.a.createElement(A.a,{style:"selection"!==t?{margin:"0 0.5rem"}:{margin:"0 0.5rem",backgroundColor:"#3f51b5",color:"white"},onClick:function(){return a("selection")}},r.a.createElement(Ha.a,{style:{marginRight:"0.5rem"}}),"Select"),r.a.createElement(A.a,{style:"line"!==t?{margin:"0 0.5rem"}:{margin:"0 0.5rem",backgroundColor:"#3f51b5",color:"white"},onClick:function(){return a("line")}},r.a.createElement(Ga.a,{style:{marginRight:"0.5rem"}}),"Line"))}}]),t}(r.a.Component),Ta=Object(ne.b)("appStore")(Object(ne.c)(_a)),Ua=function(){return r.a.createElement(z.a,{position:"static"},r.a.createElement(Y.a,null,r.a.createElement(ge,null),r.a.createElement(Ie,null),r.a.createElement(Kt,null),r.a.createElement(Aa,null)),r.a.createElement(Ta,null))},Fa=(a(591),function(e){var t=w(e.originCoords,e.endCoords);return r.a.createElement("div",{style:{width:"".concat(t.right-t.left,"px"),height:"".concat(t.bottom-t.top,"px"),position:"absolute",top:t.top+"px",left:t.left+"px",right:t.right+"px",bottom:t.bottom+"px",backgroundColor:"#99ccff",border:"1px solid #0000DD",opacity:"0.3"}})}),Ra=function(e){var t=e.originCoords,a=e.endCoords;return r.a.createElement("svg",{style:{position:"absolute",top:0,left:0,right:0,bottom:0},height:"100%",width:"100%",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("line",{stroke:"#000",strokeWidth:"2",x1:t.x,y1:t.y,x2:a.x,y2:a.y}))},Va=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={emphasizedValue:null,profileVisualizationData:[]},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({profileVisualizationData:this.props.profileValues.map(function(e,t){return{x:t,y:e}})})}},{key:"render",value:function(){var e=this;return r.a.createElement(M.a,{margin:{top:50,left:70},onMouseLeave:function(){return e.setState({emphasizedValue:null})}},r.a.createElement(M.e,null),r.a.createElement(M.c,null),r.a.createElement(M.g,null),r.a.createElement(M.i,null),r.a.createElement(M.d,{onNearestX:function(t){return e.setState({emphasizedValue:t})},data:this.state.profileVisualizationData}),this.state.emphasizedValue?r.a.createElement(M.b,{value:this.state.emphasizedValue,align:{horizontal:"auto",vertical:"top"},style:{fontSize:14},format:function(e){return[{title:"Pixel: "+e.x,value:"Value: "+e.y}]}}):null)}}]),t}(n.Component),Ba=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={currentTab:0},a.updateCurrentTab=function(e,t){return a.setState({currentTab:t})},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.currentTab,a=this.props.info,n=a.profileValues,o=a.firstDerivativeProfileValues;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(A.a,{style:0===t?{boxShadow:"0px 4px 6px -5px black"}:{},onClick:function(t){return e.updateCurrentTab(t,0)}},"Profile"),r.a.createElement(A.a,{style:1===t?{boxShadow:"0px 4px 6px -5px black"}:{},onClick:function(t){return e.updateCurrentTab(t,1)}},"First Derivative")),r.a.createElement("div",{style:{width:"100%",height:"100%",maxHeight:"80%",display:"flex",justifyContent:"center",alignItems:"center"}},0===t&&r.a.createElement(Va,{profileValues:n}),1===t&&r.a.createElement(Va,{profileValues:o})))}}]),t}(r.a.Component),Wa=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).onMouseMoveOverImage=function(e,t){a.props.appStore.setCurrentPixel(e,t)},a.onImageRegionSelection=function(e){return function(t){var n=w(t.mouseDownCoords,t.mouseUpCoords),r=n.top,o=n.left,i={top:r,left:o,width:n.right-o,height:n.bottom-r};0!==i.width&&0!==i.height&&a.props.appStore.updateImageRegion(e,i)}},a.getImageOverlay=function(){switch(a.props.appStore.imageSelectionMehod){case"selection":return function(e){var t=e.originCoords,a=e.endCoords;return r.a.createElement(Fa,{originCoords:t,endCoords:a})};case"line":return function(e){var t=e.originCoords,a=e.endCoords;return r.a.createElement(Ra,{originCoords:t,endCoords:a})};default:throw new Error("Invalid option ".concat(a.props.appStore.imageSelectionMehod))}},a}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"app-container"},r.a.createElement(Ua,null),r.a.createElement("main",{className:"main"},r.a.createElement("div",{className:"main__wrapper"},this.getGridComponent())),r.a.createElement("footer",{className:"footer"},this.getDisplayForImageDimensions(),this.getDisplayForPixelUnderMouse())))}},{key:"getGridComponent",value:function(){var e=this;return r.a.createElement(I.Grid,{layouts:this.props.appStore.gridLayouts,onLayoutChange:this.props.appStore.updateLayout},this.props.appStore.imagesInfos.map(function(t,a){return e.getImageGridItem(t,a)}),this.props.appStore.histogramInfos.map(function(t,a){return t.visible?e.getHistogramGridItem(t,a):null}).filter(function(e){return null!==e}),this.props.appStore.profilesInfos.map(function(t,a){return e.getProfileGridItem(t,a)}))}},{key:"getImageGridItem",value:function(e,t){var a=this,n=e.imageBuffer,o=e.key;return r.a.createElement(I.Item,{key:o,id:t,name:o,onDelete:this.props.appStore.removeImageInfo,onSelect:function(){return a.props.appStore.updateSelectedImageItem(t)},isSelected:this.props.appStore.isGridItemSelected("image",t)},r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"scrollable"},r.a.createElement(k,{rgbaImage:n,onMouseMove:this.onMouseMoveOverImage,onSelection:this.onImageRegionSelection(t)},this.getImageOverlay()))))}},{key:"getHistogramGridItem",value:function(e,t){var a=this,n=e.histogram,o=e.cHistogram,i=e.key;return r.a.createElement(I.Item,{key:i,id:t,name:i,onDelete:this.props.appStore.hideHistogram,onSelect:function(){return a.props.appStore.updateSelectedHistogramItem(t)},isSelected:this.props.appStore.isGridItemSelected("histogram",t)},r.a.createElement(B,{histogram:n,cHistogram:o}))}},{key:"getProfileGridItem",value:function(e,t){var a=this;return r.a.createElement(I.Item,{key:e.key,id:t,name:e.key,onDelete:this.props.appStore.removeProfile,onSelect:function(){return a.props.appStore.updateSelectedProfileItem(t)},isSelected:this.props.appStore.isGridItemSelected("line",t)},r.a.createElement(Ba,{info:e}))}},{key:"getDisplayForImageDimensions",value:function(){var e=this.props.appStore,t=e.pixelValue,a=e.selectedGridItem,n=e.imagesInfos,o=e.imageSelectionMehod,i=a.type,l=a.index;if("image"===i&&n[l]){var s="rgba(".concat(t.join(", "),")"),c="selection"===o?"width: "+n[l].region.width+", height: "+n[l].region.height:"width: "+n[l].imageBuffer.width+", height: "+n[l].imageBuffer.height;return r.a.createElement("div",{style:{display:"inline-block",margin:"0.5rem",padding:"0.5rem",borderRadius:"5px",border:"1px solid ".concat(s),boxShadow:"0 3px 10px -3px ".concat(s)}},c)}}},{key:"getDisplayForPixelUnderMouse",value:function(){var e=this.props.appStore,t=e.pixelValue,a=e.pixelCoords,n="rgba(".concat(t.join(", "),")");return r.a.createElement("div",{style:{display:"inline-block",margin:"0.5rem",padding:"0.5rem",borderRadius:"5px",border:"1px solid ".concat(n),boxShadow:"0 3px 10px -3px ".concat(n)}},"x: ",a.x,", y: ",a.y,",",r.a.createElement("span",{style:{display:"inline-block",width:"0.5rem",height:"0.5rem",margin:"0 0.5rem",backgroundColor:n,border:"1px solid black",borderRadius:"2px"}}),n)}}]),t}(n.Component),za=Object(ae.withSnackbar)(Object(ne.b)("appStore")(Object(ne.c)(Wa))),qa=(a(592),a(593),a(594),a(19)),Ya=function(){function e(t){Object(l.a)(this,e),this.setImagePixels(t.pixels)}return Object(s.a)(e,[{key:"setImagePixels",value:function(e){var t=this;this.histogramValues=new Array(256).fill(0);for(var a=0;a<e.length;a+=j.NUM_CHANNELS)0!==e[a+3]&&this.histogramValues[e[a]]++;this.histogramInfo={},this.histogramInfo.count=this.histogramValues.reduce(function(e,t){return e+t},0),this.histogramInfo.mean=this.histogramValues.reduce(function(e,t,a){return e+t*a},0)/this.histogramInfo.count,this.histogramInfo.stdDev=Math.sqrt(this.histogramValues.reduce(function(e,a,n){return e+Math.pow(n-t.histogramInfo.mean,2)*a},0)/this.histogramInfo.count);for(var n=0;n<this.histogramValues.length;++n)if(0!==this.histogramValues[n]){this.histogramInfo.minValue=n;break}for(var r=this.histogramValues.length-1;r>=0;--r)if(0!==this.histogramValues[r]){this.histogramInfo.maxValue=r;break}var o=0,i=0;this.histogramValues.forEach(function(e,t){e>i&&(i=e,o=t)}),this.histogramInfo.mode={},this.histogramInfo.mode.value=o,this.histogramInfo.mode.count=i;for(var l,s=0,c=0;c<256;++c)(l=this.histogramValues[c]/this.histogramInfo.count)>0&&(s+=l*Math.log2(l));0!==s&&(s*=-1),this.histogramInfo.entropy=s.toFixed(3)}}]),e}(),Xa=function e(t){Object(l.a)(this,e);var a=0;this.counts=t.map(function(e){return a+=e}),this.count=a},Qa=function(){var e={};return Object.keys(d.GRID_COLUMNS).forEach(function(t){return e[t]=[]}),e},Ja=function(e){return{i:e,x:0,y:1/0,w:d.DEFAULT_GRID_ITEM_COLS,h:d.DEFAULT_GRID_ITEM_ROWS,minW:d.DEFAULT_GRID_ITEM_COLS,minH:d.DEFAULT_GRID_ITEM_ROWS}},Ka=function(e,t){var a=t.map(Ja),n=Qa();return Object.keys(e).forEach(function(t){n[t]=e[t].concat(a)}),n},Za=function(e,t){var a={};return Object.keys(e).forEach(function(n){a[n]=e[n].filter(function(e){var a=e.i;return!t.includes(a)})}),a},$a=function e(){var t=this;Object(l.a)(this,e),this.imagesInfos=[],this.histogramInfos=[],this.profilesInfos=[],this.gridLayouts=Qa(),this.imageSelectionMehod="selection",this.selectedGridItem={type:"",index:-1},this.pixelCoords={x:0,y:0},this.pixelValue=[0,0,0,255],this._removedImagesCount=0,this._profilesCount=0,this.addImage=function(e){var a={top:0,left:0,width:e.width,height:e.height},n=new Ya(e),r=new Xa(n.histogramValues),o="Image ".concat(t.imagesInfos.length+t._removedImagesCount),i="Histogram ".concat(t.histogramInfos.length+t._removedImagesCount);t.imagesInfos.push({key:o,imageBuffer:e,region:a}),t.histogramInfos.push({key:i,histogram:n,cHistogram:r,visible:!1}),t.gridLayouts=Ka(t.gridLayouts,[o])},this.addProfile=function(e,a){var n="Profile ".concat(t._profilesCount);t._profilesCount=t._profilesCount+1;var r="First derivative of "+n;t.profilesInfos.push({key:n,profileValues:e,firstDerivativeProfileValues:a}),t.gridLayouts=Ka(t.gridLayouts,[n,r])},this.removeImageInfo=function(e){var a=Za(t.gridLayouts,[t.histogramInfos[e].key,t.imagesInfos[e].key]),n=Object(m.a)({},t.selectedGridItem);e<=n.index&&(n.index-=1,n.index<0&&(n.type="")),t.histogramInfos=t.histogramInfos.filter(function(t,a){return a!==e}),t.imagesInfos=t.imagesInfos.filter(function(t,a){return a!==e}),t.gridLayouts=a,t.selectedGridItem=n,t._removedImagesCount=t._removedImagesCount+1},this.updateImageRegion=function(e,a){return t.imagesInfos[e].region=a},this.hideHistogram=function(e){t.histogramInfos[e].visible=!1,t.gridLayouts=Za(t.gridLayouts,[t.histogramInfos[e].key]),t.isGridItemSelected("histogram",e)&&(t.selectedGridItem={type:"",index:-1})},this.removeProfile=function(e){var a=Za(t.gridLayouts,[t.profilesInfos[e].key]),n=Object(m.a)({},t.selectedGridItem);e<=n.index&&(n.index-=1,n.index<0&&(n.type="")),t.profilesInfos=t.profilesInfos.filter(function(t,a){return a!==e}),t.gridLayouts=a,t.selectedGridItem=n},this.showHistogramOfCurrentImage=function(){var e=t.selectedGridItem,a=e.type,n=e.index;"image"===a&&(t.histogramInfos[n].visible=!0,t.gridLayouts=Ka(t.gridLayouts,[t.histogramInfos[n].key]))},this.updateLayout=function(e,a){return requestAnimationFrame(function(){return t.gridLayouts=a})},this.updateSelectedImageItem=function(e){return t.selectedGridItem={type:"image",index:e}},this.updateSelectedHistogramItem=function(e){return t.selectedGridItem={type:"histogram",index:e}},this.updateSelectedProfileItem=function(e){return t.selectedGridItem={type:"line",index:e}},this.setCurrentPixel=function(e,a){t.pixelCoords=e,t.pixelValue=a},this.updateImageSelectionMehod=function(e){t.imageSelectionMehod=e},this.isGridItemSelected=function(e,a){return t.selectedGridItem.index===a&&t.selectedGridItem.type===e}};Object(qa.g)($a,{imagesInfos:qa.l,histogramInfos:qa.l,profilesInfos:qa.l,gridLayouts:qa.l,imageSelectionMehod:qa.l,selectedGridItem:qa.l,pixelCoords:qa.l,pixelValue:qa.l,addImage:qa.d,addProfile:qa.d,removeImageInfo:qa.d,updateImageRegion:qa.d,hideHistogram:qa.d,removeProfile:qa.d,showHistogramOfCurrentImage:qa.d,updateLayout:qa.d,updateSelectedImageItem:qa.d,updateSelectedHistogramItem:qa.d,updateSelectedProfileItem:qa.d,setCurrentPixel:qa.d,updateImageSelectionMehod:qa.d});var en=new $a,tn=Object(ht.createMuiTheme)({palette:{common:{black:"#000",white:"#fff"},background:{paper:"#fff",default:"#fafafa"},primary:{light:"#7986cb",main:"#3f51b5",dark:"#303f9f",contrastText:"#fff"},secondary:{light:"#ff4081",main:"#f50057",dark:"#c51162",contrastText:"#fff"},error:{light:"#e57373",main:"#f44336",dark:"#d32f2f",contrastText:"#fff"},text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"}},typography:{useNextVariants:!0}});i.a.render(r.a.createElement("div",null,r.a.createElement(ht.MuiThemeProvider,{theme:tn},r.a.createElement(ae.SnackbarProvider,{maxSnack:5,anchorOrigin:{vertical:"top",horizontal:"right"},action:[r.a.createElement(A.a,{color:"inherit",size:"small",key:Date.now()},"Dismiss")]},r.a.createElement(ne.a,{appStore:en},r.a.createElement(za,null))))),document.getElementById("root"))},70:function(e,t){e.exports={Bilinear:function(e,t,a){var n=a.getPixel({x:Math.floor(e),y:Math.ceil(t)})[2],r=a.getPixel({x:Math.ceil(e),y:Math.ceil(t)})[2],o=a.getPixel({x:Math.floor(e),y:Math.floor(t)})[2],i=a.getPixel({x:Math.ceil(e),y:Math.floor(t)})[2],l=e-Math.floor(e),s=t-Math.floor(t);return o+(i-o)*l+(n-o)*s+(r+o-n-i)*l*s},"Closest Neighbour":function(e,t,a){return a.getPixel({x:Math.round(e),y:Math.round(t)})[2]}}}},[[241,1,2]]]);
//# sourceMappingURL=main.10ed1a90.chunk.js.map